(window["webpackJsonphypothesis-testing-mindmap"]=window["webpackJsonphypothesis-testing-mindmap"]||[]).push([[0],{287:function(e,t,n){e.exports=n.p+"static/media/default.4f8c4983.jpg"},288:function(e,t,n){e.exports=n.p+"static/media/theme1.2f59f00b.jpg"},289:function(e,t,n){e.exports=n.p+"static/media/theme2.b18193fb.jpg"},290:function(e,t,n){e.exports=n.p+"static/media/theme3.61c97910.jpg"},291:function(e,t,n){e.exports=n.p+"static/media/theme4.1e21408c.jpg"},343:function(e,t,n){},346:function(e,t,n){},847:function(e,t,n){},868:function(e,t,n){},869:function(e,t,n){},870:function(e,t,n){},871:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),i=n(15),a=n.n(i),c=(n(343),n(43)),l=n(44),u=n(49),s=n(48),p=n(81),d=n(7),f=n(12),y=n.n(f),h=n(71),m=n(2),g=n(21),b=n(47),v=n(102),x=n(3),T=n(101),O=function(e,t){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function E(e,t){function n(){this.constructor=e}O(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var k=function(){return(k=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function w(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}function C(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(w(arguments[t]));return e}y()("core:controller");function S(e){var t,n;if(!Array.isArray(e))throw new TypeError("Middleware stack must be an array!");try{for(var o=function(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(e),r=o.next();!r.done;r=o.next()){if("function"!==typeof r.value)throw new TypeError("Middleware must be composed of functions!")}}catch(i){t={error:i}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return function(t,n){var o=-1;return function r(i){if(i<=o)throw new Error("next() called multiple times");o=i;var a=e[i];i===e.length&&(a=n);if(!a)return null;try{return a(t,r.bind(null,i+1))}catch(c){throw c}}(0)}}var j,K=function(){function e(e){void 0===e&&(e={});var t=e.plugins,n=void 0===t?[]:t,o=e.onChange,r=e.readOnly;this.readOnly=r,this.onChange=o,this.middleware=new Map,function e(t,n){if(Array.isArray(n))n.forEach((function(n){return e(t,n)}));else if(null!=n)for(var o in n){var r=n[o];t.middleware[o]=t.middleware[o]||[],t.middleware[o].push(r)}}(this,function(e){void 0===e&&(e={});var t=e.plugins;return C(void 0===t?[]:t)}({plugins:n}))}return e.prototype.run=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=this.middleware,r=o[e]||[];Object(v.a)(0!==r.length,"the middleware function "+e+" is not found!");var i=Object(b.a)(S)(r);return i.apply(void 0,C(t))},e.prototype.getValue=function(e,t){return this.run("getValue",k(k({},t),{propKey:e}))},e.prototype.change=function(e,t){this.onChange(e,t),this.currentModel=e},e}(),R="L",D="R",L="M";!function(e){e[e.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",e[e.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT",e[e.LEFT_AND_RIGHT=2]="LEFT_AND_RIGHT",e[e.TOP_TO_BOTTOM=3]="TOP_TO_BOTTOM"}(j||(j={}));var _=0,M=1,P="CONTENT",I="DESC",N="NORMAL",z="EDITING_CONTENT",F="EDITING_DESC",A="SHOW_POPUP",B="DRAGGING",V="ANCESTOR",H="DESCENDANT",W="SIBLING",G="NONE",U="TOGGLE_COLLAPSE",Z="COLLAPSE_ALL",Y="EXPAND_ALL",J="EXPAND_TO",q="ADD_CHILD",X="ADD_SIBLING",Q="DELETE_TOPIC",$="FOCUS_TOPIC",ee="SET_FOCUS_MODE",te="SET_STYLE",ne="SET_THEME",oe="SET_TOPIC_BLOCK",re="DELETE_TOPIC_BLOCK",ie="START_EDITING_CONTENT",ae="START_EDITING_DESC",ce="DRAG_AND_DROP",le="SET_EDITOR_ROOT";function ue(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.get("data")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this.get("type")},enumerable:!0,configurable:!0}),t.create=function(e){return new t(e)},t.createList=function(e){if(x.List.isList(e)||Array.isArray(e))return Object(x.List)(e.map(t.create));throw new Error("Block.createList only accepts Array or List, but you passed it: "+e)},t}(Object(x.Record)({type:null,key:null,data:null})),pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E(t,e),Object.defineProperty(t.prototype,"key",{get:function(){return this.get("key")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentKey",{get:function(){return this.get("parentKey")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapse",{get:function(){return this.get("collapse")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subKeys",{get:function(){return this.get("subKeys")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blocks",{get:function(){return this.get("blocks")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relations",{get:function(){return this.get("relations")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this.get("style")},enumerable:!0,configurable:!0}),t.prototype.getBlock=function(e){var t=this.blocks.findIndex((function(t){return t.type===e}));return-1===t?{index:t,block:null}:{index:t,block:this.blocks.get(t)}},t.fromJSON=function(e){var n=e.key,o=e.parentKey,r=void 0===o?null:o,i=e.blocks,a=e.subKeys,c=void 0===a?[]:a,l=e.collapse;return new t({key:n,parentKey:r,collapse:void 0!==l&&l,subKeys:Object(x.List)(c),blocks:se.createList(i)})},t.create=function(e){var n=e.key,o=e.parentKey,r=void 0===o?null:o,i=e.content,a=void 0===i?"":i,c=e.subKeys,l=void 0===c?[]:c,u=e.collapse,s=void 0!==u&&u,p=se.create({type:P,data:a,key:null});return new t({key:n,parentKey:r,blocks:Object(x.List)([p]),subKeys:Object(x.List)(l),collapse:s})},t}(Object(x.Record)({key:null,parentKey:null,collapse:!1,subKeys:null,blocks:null,relations:null,style:null}));function de(e,t){var n=e.getTopic(t),o=[];if(n.subKeys.size>0){var r=n.subKeys.toArray();o.push.apply(o,C(r)),o=r.reduce((function(t,n){return t.push.apply(t,C(de(e,n))),t}),o)}return o}function fe(e,t,n){var o=e.getTopic(t),r=e.getTopic(n);if(o&&r){if(o.parentKey==r.parentKey)return W;for(var i=o;i.parentKey;){if(i.parentKey===r.key)return H;i=e.getParentTopic(i.key)}for(i=r;i.parentKey;){if(i.parentKey===o.key)return V;i=e.getParentTopic(i.key)}}return G}var ye=y()("modifier");function he(e){var t=e.model,n=e.topicKey,o=e.focusMode;return ye("focus topic"),n!==t.focusKey&&(t=t.set("focusKey",n)),o!==t.focusMode&&(t=t.set("focusMode",o)),t}var me={addChild:function(e){var t=e.model,n=e.topicKey;ye("addChild:",n);var o=t.getTopic(n);if(o){var r=pe.create({key:ue(),parentKey:o.key});return o=o.set("collapse",!1).update("subKeys",(function(e){return e.push(r.key)})),he({model:t=t.update("topics",(function(e){return e.set(n,o).set(r.key,r)})),topicKey:r.key,focusMode:z})}return t},addSibling:function(e){var t=e.model,n=e.topicKey;if(n===t.rootTopicKey)return t;var o=t.getTopic(n);if(o){var r=t.getTopic(o.parentKey),i=r.subKeys.indexOf(n),a=pe.create({key:ue(),parentKey:r.key});return he({model:t=t.update("topics",(function(e){return e.set(a.key,a)})).updateIn(["topics",r.key,"subKeys"],(function(e){return e.insert(i+1,a.key)})),topicKey:a.key,focusMode:z})}return t},toggleCollapse:function(e){var t=e.model,n=e.topicKey,o=t.getTopic(n);return o&&0!==o.subKeys.size&&(o=o.merge({collapse:!o.collapse}),t=t.updateIn(["topics",o.key,"collapse"],(function(e){return!e}))),t=he({model:t,topicKey:n,focusMode:N})},collapseAll:function(e){var t=e.model;ye("collapseAll");var n=de(t,t.editorRootTopicKey);return ye(t),t=t.withMutations((function(e){n.forEach((function(t){e.setIn(["topics",t,"collapse"],!0)}))})),ye(t),t},expandAll:function(e){var t=e.model,n=de(t,t.editorRootTopicKey);return ye(t),t=t.withMutations((function(e){n.forEach((function(t){e.setIn(["topics",t,"collapse"],!1)}))})),ye(t),t},expandTo:function(e){var t=e.model,n=e.topicKey,o=function(e,t,n){void 0===n&&(n=!1);for(var o=[t],r=e.getTopic(t);r.parentKey;)n?o.push(r.parentKey):o.unshift(r.parentKey),r=e.getParentTopic(r.key);return o}(t,n).filter((function(e){return e!==n}));return fe(t=t.withMutations((function(e){o.forEach((function(t){e.setIn(["topics",t,"collapse"],!1)}))})),n,t.editorRootTopicKey)!==H&&(t=t.set("editorRootTopicKey",t.rootTopicKey)),t},focusTopic:he,setFocusMode:function(e){var t=e.model,n=e.focusMode;return ye("setFocusMode"),n!==t.focusMode&&(t=t.set("focusMode",n)),t},deleteTopic:function(e){var t=e.model,n=e.topicKey;if(n===t.editorRootTopicKey)return t;var o=t.getTopic(n);return o&&(t=t.withMutations((function(e){e.update("topics",(function(e){e=e.delete(n);var o=de(t,n);return e=e.withMutations((function(e){o.forEach((function(t){e.delete(t)}))}))})),e.updateIn(["topics",o.parentKey,"subKeys"],(function(e){return e.delete(e.indexOf(n))})),e.focusKey===n&&e.set("focusKey",null).set("focusMode",null)}))),t},setBlockData:function(e){var t=e.model,n=e.topicKey,o=e.blockType,r=e.focusMode,i=e.data,a=t.getTopic(n);if(a){var c=a.getBlock(o),l=c.index,u=c.block;-1===l?t=t.updateIn(["topics",n,"blocks"],(function(e){return e.push(se.create({type:o,data:i}))})):u.data!==i&&(t=t.updateIn(["topics",n,"blocks",l,"data"],(function(e){return i}))),r&&(t=he({model:t,topicKey:n,focusMode:r}))}return t},deleteBlock:function(e){var t=e.model,n=e.topicKey,o=e.blockType,r=t.getTopic(n);if(r){var i=r.getBlock(o).index;-1!==i&&(t=t.updateIn(["topics",n,"blocks"],(function(e){return e.delete(i)}))),t=he({model:t,topicKey:null,focusMode:null})}return t},setStyle:function(e){var t=e.model,n=e.topicKey,o=e.style,r=t.getTopic(n);return r&&o!==r.style&&(t=t.updateIn(["topics",n,"style"],(function(e){return o}))),t},setTheme:function(e){var t=e.model,n=e.theme;return t=t.setIn(["config","theme"],n)},setLayoutDir:function(e){var t=e.model,n=e.layoutDir;return t.config.layoutDir===n?t:t=t.setIn(["config","layoutDir"],n)},setEditorRootTopicKey:function(e){var t=e.model,n=e.topicKey;return t.editorRootTopicKey!==n&&(t=t.set("editorRootTopicKey",n)),t.getTopic(n).collapse&&(t=t.setIn(["topics",n,"collapse"],!1)),t},setZoomFactor:function(e){var t=e.model,n=e.zoomFactor;return t.zoomFactor!==n&&(t=t.set("zoomFactor",n)),t}};var ge,be={name:"default",randomColor:!0,background:"rgb(57,60,65)",highlightColor:"#50C9CE",marginH:60,marginV:20,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5,lineType:"curve",lineWidth:"3px"},rootTopic:{contentStyle:{fontSize:"34px",borderRadius:"35px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"rgb(113, 203, 45)"}},primaryTopic:{contentStyle:{borderWidth:"1px",borderStyle:"solid",borderRadius:"20px",fontSize:"17px",padding:"10px 15px 10px 15px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"rgb(113, 203, 45)"}},normalTopic:{contentStyle:{border:"1px solid #e8eaec",borderRadius:"20px",fontSize:"17px",padding:"4px 10px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"white"}}},ve={readOnly:!1,allowUndo:!0,layoutDir:j.LEFT_AND_RIGHT,theme:be},xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E(t,e),Object.defineProperty(t.prototype,"layoutDir",{get:function(){return this.get("layoutDir")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this.get("readOnly")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowUndo",{get:function(){return this.get("allowUndo")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"theme",{get:function(){return this.get("theme")},enumerable:!0,configurable:!0}),t.fromJSON=function(e){return new t(e)},t}(Object(x.Record)(ve)),Te={topics:Object(x.Map)(),extData:Object(x.Map)(),config:null,rootTopicKey:null,editorRootTopicKey:null,focusKey:null,focusMode:null,formatVersion:null,zoomFactor:1},Oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E(t,e),t.isModel=function(e){return e instanceof t},t.create=function(e){if(void 0===e&&(e=null),null==e)return t.createEmpty();var n;if(t.isModel(e)&&(n=e),Object(T.a)(e)&&(n=t.fromJSON(e)),n)return null==n.focusKey&&(n=n.set("focusKey",n.rootTopicKey)),null==n.focusMode&&(n=n.set("focusMode",N)),n;throw new Error("`Value.create` only accepts objects or values, but you passed it: "+e)},t.createEmpty=function(){var e=new t,n=pe.create({key:ue()});return e.update("topics",(function(e){return e.set(n.key,n)})).set("rootTopicKey",n.key).set("focusKey",n.key).set("focusMode",N)},t.fromJSON=function(e){var n=new t,o=e.topics,r=void 0===o?[]:o,i=e.config,a=void 0===i?{}:i,c=e.rootTopicKey,l=e.editorRootTopicKey;return void 0===l&&(l=c),n=(n=n.merge({rootTopicKey:c,editorRootTopicKey:l})).withMutations((function(e){r.forEach((function(t){e.update("topics",(function(e){return e.set(t.key,pe.fromJSON(t))}))})),e.set("config",xe.fromJSON(a))}))},t.prototype.toJS=function(){return{rootTopicKey:this.rootTopicKey,topics:Object.values(this.topics.toJS()),config:this.config,extData:this.extData,zoomFactor:this.zoomFactor}},Object.defineProperty(t.prototype,"extData",{get:function(){return this.get("extData")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topics",{get:function(){return this.get("topics")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this.get("config")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatVersion",{get:function(){return this.get("formatVersion")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootTopicKey",{get:function(){return this.get("rootTopicKey")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editorRootTopicKey",{get:function(){return this.get("editorRootTopicKey")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusKey",{get:function(){return this.get("focusKey")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusMode",{get:function(){return this.get("focusMode")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editingContentKey",{get:function(){return this.focusMode===z?this.focusKey:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editingDescKey",{get:function(){return this.focusMode===F?this.focusKey:null},enumerable:!0,configurable:!0}),t.prototype.getTopic=function(e){return this.topics.get(e)},t.prototype.getExtDataItem=function(e,t){return this.extData.get(e)||new t},t.prototype.getParentTopic=function(e){var t=this.getTopic(e);return t.parentKey?this.getTopic(t.parentKey):null},t.prototype.getTopicVisualLevel=function(e){for(var t=this.getTopic(e),n=0;t&&t.key!==this.editorRootTopicKey;)n++,t=this.getParentTopic(t.key);return n},Object.defineProperty(t.prototype,"rootTopic",{get:function(){return this.getTopic(this.rootTopicKey)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomFactor",{get:function(){return this.get("zoomFactor")},enumerable:!0,configurable:!0}),t}(Object(x.Record)(Te)),Ee=(n(346),n(347),n(32));n(268),n(107);!function(e){e[e.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",e[e.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT",e[e.LEFT_AND_RIGHT=2]="LEFT_AND_RIGHT",e[e.TOP_TO_BOTTOM=3]="TOP_TO_BOTTOM"}(ge||(ge={}));var ke="CONTENT",we="DESC",Ce="NORMAL",Se="EDITING_CONTENT",je="EDITING_DESC",Ke="SET_TOPIC_BLOCK",Re=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"data",get:function(){return this.get("data")}},{key:"type",get:function(){return this.get("type")}}],[{key:"create",value:function(e){return new n(e)}},{key:"createList",value:function(e){if(x.List.isList(e)||Array.isArray(e))return Object(x.List)(e.map(n.create));throw new Error("Block.createList only accepts Array or List, but you passed it: ".concat(e))}}]),n}(Object(x.Record)({type:null,key:null,data:null}));var De={readOnly:!1,allowUndo:!0,layoutDir:ge.LEFT_AND_RIGHT,theme:{name:"default",randomColor:!0,background:"rgb(57,60,65)",highlightColor:"#50C9CE",marginH:60,marginV:20,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5,lineType:"curve",lineWidth:"3px"},rootTopic:{contentStyle:{fontSize:"34px",borderRadius:"35px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"rgb(113, 203, 45)"}},primaryTopic:{contentStyle:{borderWidth:"1px",borderStyle:"solid",borderRadius:"20px",fontSize:"17px",padding:"10px 15px 10px 15px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"rgb(113, 203, 45)"}},normalTopic:{contentStyle:{border:"1px solid #e8eaec",borderRadius:"20px",fontSize:"17px",padding:"4px 10px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"white"}}}},Le=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"layoutDir",get:function(){return this.get("layoutDir")}},{key:"readOnly",get:function(){return this.get("readOnly")}},{key:"allowUndo",get:function(){return this.get("allowUndo")}},{key:"theme",get:function(){return this.get("theme")}}],[{key:"fromJSON",value:function(e){return new n(e)}}]),n}(Object(x.Record)(De));function _e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var Me=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"key",get:function(){return this.get("key")}},{key:"parentKey",get:function(){return this.get("parentKey")}},{key:"collapse",get:function(){return this.get("collapse")}},{key:"subKeys",get:function(){return this.get("subKeys")}},{key:"blocks",get:function(){return this.get("blocks")}},{key:"relations",get:function(){return this.get("relations")}},{key:"style",get:function(){return this.get("style")}},{key:"getBlock",value:function(e){var t=this.blocks.findIndex((function(t){return t.type===e}));return-1===t?{index:t,block:null}:{index:t,block:this.blocks.get(t)}}}],[{key:"fromJSON",value:function(e){var t=e.key,o=e.parentKey,r=void 0===o?null:o,i=e.blocks,a=e.subKeys,c=void 0===a?[]:a,l=e.collapse;return new n({key:t,parentKey:r,collapse:void 0!==l&&l,subKeys:Object(x.List)(c),blocks:Re.createList(i)})}},{key:"create",value:function(e){var t=e.key,o=e.parentKey,r=void 0===o?null:o,i=e.content,a=void 0===i?"":i,c=e.subKeys,l=void 0===c?[]:c,u=e.collapse,s=void 0!==u&&u,p=Re.create({type:ke,data:a,key:null});return new n({key:t,parentKey:r,blocks:Object(x.List)([p]),subKeys:Object(x.List)(l),collapse:s})}}]),n}(Object(x.Record)({key:null,parentKey:null,collapse:!1,subKeys:null,blocks:null,relations:null,style:null}));y()("modifier");var Pe={topics:Object(x.Map)(),extData:Object(x.Map)(),config:new Le,rootTopicKey:null,editorRootTopicKey:null,focusKey:null,focusMode:null,formatVersion:null,zoomFactor:1};Object(x.Record)(Pe);y()("core:controller");var Ie=n(68),Ne=n(31),ze=function(e,t){return(ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Fe(e,t){function n(){this.constructor=e}ze(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ae=function(){return(Ae=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var Be,Ve,He,We=y()("node:text-editor"),Ge=d.default.div(He||(Be=["\n  padding: 6px;\n  background-color: ",";\n  cursor: ",";\n  min-width: 50px;\n"],Ve=["\n  padding: 6px;\n  background-color: ",";\n  cursor: ",";\n  min-width: 50px;\n"],Object.defineProperty?Object.defineProperty(Be,"raw",{value:Ve}):Be.raw=Ve,He=Be),(function(e){return e.readOnly?null:"white"}),(function(e){return e.readOnly?"pointer":"text"})),Ue=function(e){function t(t){var n=e.call(this,t)||this;return n.state={content:null},n.onMouseDown=function(e){e.stopPropagation()},n.onMouseMove=function(e){},n.onKeyDown=function(e){},n._handleClick=function(e){!n.root.contains(e.target)&&n.onClickOutSide(e)},n.rootRef=function(e){return function(t){e(t),n.root=t}},n.initState(),n}return Fe(t,e),t.prototype.onChange=function(e){var t=e.value;We("onChange",t),this.setState({content:t})},t.prototype.componentDidMount=function(){this.props.readOnly||document.addEventListener("click",this._handleClick)},t.prototype.componentWillUnmount=function(){this.props.readOnly||document.removeEventListener("click",this._handleClick)},t.prototype.onClickOutSide=function(e){},t.prototype.getCustomizeProps=function(){return null},t.prototype.getContent=function(){var e=this.getCustomizeProps().block.data;return null==e?null:("string"===typeof e&&(e=Ie.a.deserialize(e)),e)},t.prototype.initState=function(){var e=this.getContent();this.state={content:e}},t.prototype.render=function(){var e=this.props,t=e.topicKey,n=e.saveRef,r=this.getCustomizeProps(),i=r.readOnly,a=r.getRefKeyFunc,c=r.placeholder,l=r.style;We(i);var u=a(t),s=i?this.getContent():this.state.content,p=this.onMouseDown,d=this.onMouseMove,f=this.onKeyDown,y={value:s,readOnly:i,onChange:this.onChange.bind(this),placeholder:c,style:l},h={key:u,readOnly:i,ref:this.rootRef(n(u)),onMouseDown:p,onMouseMove:d,onKeyDown:f};return Object(o.createElement)(Ge,Ae({},h),Object(o.createElement)(Ne.Editor,Ae({},y,{autoFocus:!0})))},t}(o.PureComponent),Ze=y()("node:topic-content-editor");function Ye(e){return"content-editor-"+e}var Je=function(e){function t(t){var n=e.call(this,t)||this;return n.onKeyDown=function(e){e.nativeEvent.ctrlKey&&"Enter"===e.nativeEvent.code&&n.save()},n}return Fe(t,e),t.prototype.getCustomizeProps=function(){var e=this.props,t=e.model,n=e.topicKey,o=e.readOnly;return{block:t.getTopic(n).getBlock(ke).block,readOnly:o,getRefKeyFunc:Ye,placeholder:"new",style:{whiteSpace:"pre"}}},t.prototype.onClickOutSide=function(e){Ze("onClickOutSide"),this.save()},t.prototype.save=function(){var e=this.props,t=e.model,n=e.topicKey;t.editingContentKey!==n||this.props.controller.run("operation",Ae(Ae({},this.props),{opType:Ke,blockType:ke,data:this.state.content,focusMode:Ce}))},t}(Ue),qe=y()("node:topic-desc-editor");function Xe(e){return"desc-editor-"+e}var Qe=function(e){function t(t){var n=e.call(this,t)||this;return qe("constructor"),n}return Fe(t,e),t.prototype.initState=function(){e.prototype.initState.call(this);var t=this.props,n=t.controller,o="topic-desc-data-"+t.topicKey,r=this.state.content;n.run("setTempValue",{key:o,value:r})},t.prototype.getCustomizeProps=function(){var e=this.props,t=e.model,n=e.topicKey;return{block:t.getTopic(n).getBlock(we).block,readOnly:t.editingDescKey!==n,getRefKeyFunc:Xe,placeholder:"write topic notes here"}},t.prototype.onChange=function(e){var t=e.value;qe("onChange");var n=this.props,o=n.controller,r=n.topicKey;if(!(n.model.editingDescKey!==r)){var i="topic-desc-data-"+r;o.run("setTempValue",{key:i,value:t}),this.setState({content:t})}},t}(Ue);var $e=function(){return{getTopicTitle:function(e){var t=e.model,n=e.controller,o=e.topicKey,r=e.maxLength,i=t.getTopic(o).getBlock(ke).block,a=n.run("serializeBlockData",Ae(Ae({},e),{block:i}));return null!=r&&(a=a.length>r?a.substr(0,r)+"...":a),a},renderTopicContentEditor:function(e){return Object(o.createElement)(Je,Ae({},e))},renderTopicDescEditor:function(e){return Object(o.createElement)(Qe,Ae({},e))},isBlockEmpty:function(e,t){var n=e.block,o=e.controller;return n.type===ke||n.type===we?null==n.data||""===o.run("serializeBlockData",e):t()},serializeBlockData:function(e,t){var n=e.block;return n.type===ke||n.type===we?"string"===typeof n.data?n.data:Ie.a.serialize(n.data):t()}}},et=n(9),tt=n.n(et),nt=n(875),ot=n(292),rt=n(40),it=function(e,t){return(it=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function at(e,t){function n(){this.constructor=e}it(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ct=function(){return(ct=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function lt(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function ut(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function st(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function pt(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}function dt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pt(arguments[t]));return e}function ft(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var yt,ht,mt,gt,bt,vt,xt,Tt,Ot,Et,kt,wt,Ct,St=function(e){function t(t){return e.call(this,t)||this}return at(t,e),t.prototype.operation=function(e,t){this.props.controller.run("operation",ct({opType:e},t))},t.prototype.run=function(e,t){this.props.controller.run(e,t)},Object.defineProperty(t.prototype,"topic",{get:function(){return this.props.model.getTopic(this.props.topicKey)},enumerable:!0,configurable:!0}),t}(o.PureComponent),jt=y()("node:drag-scroll-widget"),Kt=d.default.div(yt||(yt=ft(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: scroll;\n"],["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: scroll;\n"]))),Rt=d.default.div(ht||(ht=ft(["\n  position: relative;\n  width: max-content;\n"],["\n  position: relative;\n  width: max-content;\n"]))),Dt=function(e){function t(t){var n=e.call(this,t)||this;return n.contentResizeCallback=function(e,t){if(n.oldContentRect){var o={width:n.content.clientWidth+2*n.viewBox.clientWidth,height:n.content.clientHeight+2*n.viewBox.clientHeight};n.bigView.style.width=o.width+"px",n.bigView.style.height=o.height+"px"}n.oldContentRect=e[0].contentRect},n.contentResizeObserver=new p.a(n.contentResizeCallback),n.contentRef=function(e){e&&(n.content=e,n.contentResizeObserver.observe(n.content))},n.viewBoxRef=function(e){e&&(n.viewBox=e,n.props.enableMouseWheel||(jt("addEventListener onwheel"),n.viewBox.addEventListener("wheel",(function(e){jt("onwheel"),(e.ctrlKey||e.altKey)&&e.preventDefault()}),{passive:!1})),n.setViewBoxScroll(n.viewBox.clientWidth,n.viewBox.clientHeight))},n.bigViewRef=function(e){e&&(n.bigView=e)},n.setWidgetStyle=function(){n.content&&n.viewBox&&n.bigView&&(n.bigView.style.width=2*(n.content.clientWidth+n.viewBox.clientWidth)+"px",n.bigView.style.height=2*(n.content.clientHeight+n.viewBox.clientHeight)+"px",n.content.style.left=n.viewBox.clientWidth+"px",n.content.style.top=n.viewBox.clientHeight+"px")},n.setViewBoxScroll=function(e,t){jt("setViewBoxScroll "+e+" "+t),n.viewBox&&(n.viewBox.scrollLeft=e,n.viewBox.scrollTop=t)},n.setViewBoxScrollDelta=function(e,t){jt("setViewBoxScrollDelta "+e+" "+t),n.viewBox&&(n.viewBox.scrollLeft+=e,n.viewBox.scrollTop+=t)},n.onMouseDown=function(e){var t=n.props,o=t.mouseKey,r=t.needKeyPressed,i=t.canDragFunc;if((!i||i())&&(0===e.button&&"left"===o||2===e.button&&"right"===o)){if(r&&!e.ctrlKey)return;n._lastCoordX=n.viewBox.scrollLeft+e.nativeEvent.clientX,n._lastCoordY=n.viewBox.scrollTop+e.nativeEvent.clientY;var a=n.viewBox;a.addEventListener("mousemove",n.onMouseMove),a.addEventListener("mouseup",n.onMouseUp)}},n.onMouseUp=function(e){var t=n.viewBox;t.removeEventListener("mousemove",n.onMouseMove),t.removeEventListener("mouseup",n.onMouseUp)},n.onMouseMove=function(e){n.viewBox.scrollLeft=n._lastCoordX-e.clientX,n.viewBox.scrollTop=n._lastCoordY-e.clientY},n.handleContextMenu=function(e){e.preventDefault()},n.state={widgetStyle:{width:"10000px",height:"10000px"}},n}return at(t,e),t.prototype.componentDidMount=function(){this.setWidgetStyle(),document.addEventListener("contextmenu",this.handleContextMenu)},t.prototype.componentWillUnmount=function(){document.removeEventListener("contextmenu",this.handleContextMenu)},t.prototype.setZoomFactor=function(e){this.bigView.style.transform="scale("+e+")",this.bigView.style.transformOrigin="50% 50%"},t.prototype.render=function(){var e=ct({},this.state.widgetStyle);return Object(o.createElement)(Kt,{ref:this.viewBoxRef,onMouseDown:this.onMouseDown},Object(o.createElement)("div",{style:e,ref:this.bigViewRef},Object(o.createElement)(Rt,{ref:this.contentRef,style:this.state.contentStyle},this.props.children(this.setViewBoxScroll,this.setViewBoxScrollDelta))))},t.defaultProps={mouseKey:"left",needKeyPressed:!1},t}(o.Component),Lt=y()("node:save-ref"),_t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getRef=function(e){return Lt(t),t[e]},t.saveRef=function(e){return function(n){n&&(t[e]=n,t.fireListener(e,n))}},t.deleteRef=function(e){Lt("deleteRef:",e),delete t[e]},t.observers=new Map,t.fireListener=function(e,n){var o,r;if(t.observers.has(e)){var i=t.observers.get(e);try{for(var a=st(i),c=a.next();!c.done;c=a.next()){(0,c.value)(e,n)}}catch(l){o={error:l}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}}},t.registerRefListener=function(e,n){t.observers.has(e)?t.observers.get(e).push(n):t.observers.set(e,[n])},t}return at(t,e),t.prototype.render=function(){return this.props.children(this.saveRef,this.getRef,this.deleteRef,this.registerRefListener.bind(this))},t}(o.Component),Mt=d.default.div(mt||(mt=ft(["\n  display: flex;\n  flex-direction: ",";\n  align-items: ",";\n  justify-content: ",";\n"],["\n  display: flex;\n  flex-direction: ",";\n  align-items: ",";\n  justify-content: ",";\n"])),(function(e){return e.flexDirection?e.flexDirection:"row"}),(function(e){return e.alignItems}),(function(e){return e.justifyContent})),Pt=d.default.div(gt||(gt=ft(["\n  margin: ",";\n"],["\n  margin: ",";\n"])),(function(e){return e.margin})),It=d.default.a(bt||(bt=ft(["\n  font-size: 20px !important;\n"],["\n  font-size: 20px !important;\n"]))),Nt=d.default.div(vt||(vt=ft(["\n  padding: 5px;\n  cursor: pointer;\n"],["\n  padding: 5px;\n  cursor: pointer;\n"]))),zt=d.default.div(xt||(xt=ft(["\n  cursor: pointer;\n  &:hover {\n    color: #1ea7fd;\n  }\n"],["\n  cursor: pointer;\n  &:hover {\n    color: #1ea7fd;\n  }\n"]))),Ft=Object(d.default)(h.e)(Tt||(Tt=ft(["\n  margin-bottom: 0px !important;\n"],["\n  margin-bottom: 0px !important;\n"]))),At=Object(d.default)(zt)(Ot||(Ot=ft(["\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  //padding: 5px;\n"],["\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  //padding: 5px;\n"]))),Bt=d.default.div(Et||(Et=ft(["\n  height: 16px;\n"],["\n  height: 16px;\n"]))),Vt=d.default.span(kt||(kt=ft(["\n  margin: 0px 10px;\n  &:hover {\n    color: palevioletred;\n  }\n"],["\n  margin: 0px 10px;\n  &:hover {\n    color: palevioletred;\n  }\n"]))),Ht=d.default.div(wt||(wt=ft(["\n  z-index: ",";\n"],["\n  z-index: ",";\n"])),(function(e){return e.zIndex})),Wt=d.default.div(Ct||(Ct=ft(["\n  min-width: 360px;\n  max-height: 470px;\n  overflow: auto;\n"],["\n  min-width: 360px;\n  max-height: 470px;\n  overflow: auto;\n"]))),Gt=y()("plugin:event");function Ut(){var e={};return{handleTopicClick:function(e){Gt("handleTopicClick");var t=e.controller,n=e.model,o=e.topicKey;Gt(n.zoomFactor),null===n.editingDescKey&&n.editingContentKey!==o&&(n.focusKey===o&&n.focusMode===z||t.run("operation",ct(ct({},e),{opType:$,focusMode:N})))},handleTopicDoubleClick:function(e){var t=e.controller;null===e.model.editingDescKey&&t.run("operation",ct(ct({},e),{opType:$,focusMode:z}))},handleTopicContextMenu:function(e){e.controller.run("operation",ct(ct({},e),{opType:$,focusMode:A}))},handleActiveModalClose:function(e){var t=e.controller,n=t.run("getActiveModalProps",e);return null==n?null:"edit-desc"===n.name?function(){t.run("operation",ct(ct({},e),{focusMode:N,opType:$}))}:void 0},addEventListener:function(t){var n=t.key,o=t.listener,r=t.once,i=t.controller;function a(){o(),i.run("removeEventListener",{key:n,listener:o})}e[n]||(e[n]=[]),r?(a.origin=o,e[n].push(a)):e[n].push(o)},removeEventListener:function(t){var n=t.key,o=t.listener;e[n]&&(e[n]=e[n].filter((function(e){return e!==o&&e.origin!==o})))},fireEvent:function(t){var n=t.key;e[n]&&e[n].forEach((function(e){return e()}))}}}var Zt="show-menu",Yt="close",Jt="color-picker",qt="notes",Xt="plus",Qt="minus",$t="collapse",en="expand",tn="center",nn="trash",on="search";function rn(e){return"icon iconfont bm-"+e}function an(e){return Object(o.createElement)("span",{className:rn(e)})}function cn(e){return"content-"+e}function ln(e){return"content-editor-"+e}function un(e){return"desc-editor-"+e}function sn(e){return"topic-widget-"+e}function pn(e){return"topic-"+e}function dn(e){return"links-"+e}function fn(e){return"links-svg-"+e}function yn(e){return"collapse-"+e}function hn(e,t){return"dropArea-"+t+"-"+e}var mn="DIAGRAM-ROOT",gn="DragScrollWidget",bn="svg-highlight",vn="focus-highlight",xn="drop-effect",Tn="CENTER_ROOT_TOPIC",On="DIAGRAM_CUSTOMIZE_BASE_Z_INDEX",En="TOPIC_CONTEXT_MENU_ENABLED",kn="TOPIC_TITLE",wn=function(e){e.stopPropagation()};function Cn(e,t){!function(e,t){var n=document.createElement("a");n.href=e,n.download=t,n.click()}("data:text/plain,"+encodeURIComponent(e),t)}function Sn(e){var t=document.createElement("input");return t.type="file",t.accept=e,new Promise((function(e,n){t.addEventListener("change",(function(t){var o=t.target.files[0],r=new FileReader;r.onload=function(t){var n=t.target.result;e(n)},r.onerror=function(e){n(e.target.error)},r.readAsText(o)})),t.click()}))}function jn(e){var t=e.top,n=void 0===t?0:t,o=e.right,r=void 0===o?0:o,i=e.bottom,a=void 0===i?0:i,c=e.left;return n+"px "+r+"px "+a+"px "+(void 0===c?0:c)+"px"}function Kn(e){return(e.top+e.bottom)/2}function Rn(e,t){return(e.x+t.x)/2}function Dn(e,t){return(e.y+t.y)/2}function Ln(e){return[(e.left+e.right)/2,(e.top+e.bottom)/2]}function _n(e,t,n){void 0===n&&(n=1);var o=e.getBoundingClientRect(),r=Ln(t.getBoundingClientRect()),i=Ln(o);i[0]=(i[0]-r[0])/n,i[1]=(i[1]-r[1])/n;var a=o.width/n,c=o.height/n;return{left:i[0]-a/2,right:i[0]+a/2,top:i[1]-c/2,bottom:i[1]+c/2,width:a,height:c}}function Mn(e,t){var n=e.getBoundingClientRect(),o=Ln(t.getBoundingClientRect()),r=Ln(n);return[r[0]-o[0],r[1]-o[1]]}var Pn="ADD_CHILD",In="ADD_SIBLING",Nn="DELETE_TOPIC",zn="EDIT_CONTENT",Fn="EDIT_NOTES",An="SET_EDITOR_ROOT";function Bn(){return{customizeHotKeys:function(e){var t=function(t){return function(n){!function(e,t){var n=t.topicKey,o=t.model,r=t.controller;void 0===n&&(t=ct(ct({},t),{topicKey:o.focusKey})),r.run("operation",ct(ct({},t),{opType:e}))}(t,e)}};return{topicHotKeys:new Map([[Pn,{label:"add child",combo:"tab",onKeyDown:t(q)}],[In,{label:"add sibling",combo:"enter",onKeyDown:t(X)}],[Nn,{label:"delete topic",combo:"del",onKeyDown:t(Q)}],[zn,{label:"edit content",combo:"space",onKeyDown:t(ie)}],[Fn,{label:"edit notes",combo:"alt + d",onKeyDown:t(ae)}],[An,{label:"set editor root",combo:"alt + shift + f",onKeyDown:t(le)}]]),globalHotKeys:new Map}}}}var Vn=y()("plugin:operation");function Hn(){var e=new Map([[U,me.toggleCollapse],[Z,me.collapseAll],[Y,me.expandAll],[J,me.expandTo],[q,me.addChild],[X,me.addSibling],[Q,me.deleteTopic],[$,me.focusTopic],[ee,me.setFocusMode],[te,me.setStyle],[ne,me.setTheme],[oe,me.setBlockData],[re,me.deleteBlock],[ie,function(e){var t=e.model,n=e.topicKey;return me.focusTopic({model:t,topicKey:n,focusMode:z})}],[ae,function(e){var t=e.model,n=e.topicKey,o=t.getTopic(n).getBlock(I);return null!=o.block&&null!=o.block.data||(t=me.setBlockData({model:t,topicKey:n,blockType:I,data:""})),t=me.focusTopic({model:t,topicKey:n,focusMode:F})}],[ce,function(e){var t=e.srcKey,n=e.dstKey,o=e.dropDir,r=e.model,i=r.getTopic(t),a=r.getTopic(n),c=i.parentKey,l=r.getTopic(c).subKeys,u=l.indexOf(t);if(l=l.delete(u),"in"===o){var s=a.subKeys;s=s.push(t),r=r.withMutations((function(e){e.setIn(["topics",c,"subKeys"],l).setIn(["topics",t,"parentKey"],n).setIn(["topics",n,"subKeys"],s).setIn(["topics",n,"collapse"],!1)}))}else{var p=a.parentKey,d=r.getTopic(p).subKeys,f=d.indexOf(n);if(c===p){var y=Object(x.List)();d.forEach((function(e){e!==t&&(y=e===n?"prev"===o?y.push(t).push(e):y.push(e).push(t):y.push(e))})),r=r.withMutations((function(e){e.setIn(["topics",p,"subKeys"],y)}))}else"prev"===o?d=d.insert(f,t):"next"===o&&(d=d.insert(f+1,t)),r=r.withMutations((function(e){e.setIn(["topics",c,"subKeys"],l).setIn(["topics",t,"parentKey"],p).setIn(["topics",p,"subKeys"],d).setIn(["topics",p,"collapse"],!1)}))}return r}],[le,me.setEditorRootTopicKey]]),t=Object(x.Stack)(),n=Object(x.Stack)(),o=!0,r=new Set;return{isOperationEnabled:function(e){return o},enableOperation:function(){o=!0},disableOperation:function(e){var t=e.whiteList;o=!1,t?r=new Set(t):r.clear()},getOpMap:function(t){return e},getAllowUndo:function(e){var t=e.model,n=e.opType;if(n)switch(n){case $:case ie:case ae:return!1}switch(t.focusMode){case"EDITING_DESC":case"EDITING_CONTENT":return!1}return t.config.allowUndo},getUndoRedoStack:function(){return{undoStack:t,redoStack:n}},setUndoStack:function(e){Vn("setUndoStack",e.undoStack),t=e.undoStack},setRedoStack:function(e){Vn("setRedoStack",e.redoStack),n=e.redoStack},canUndo:function(e){var t=e.controller,n=t.run("getUndoRedoStack",e).undoStack,o=t.run("getAllowUndo",e);return n.size>0&&o},canRedo:function(e){var t=e.controller,n=t.run("getUndoRedoStack",e).redoStack,o=t.run("getAllowUndo",e);return n.size>0&&o},undo:function(e){var t=e.controller,n=e.model;if(t.run("getAllowUndo",e)){var o=t.run("getUndoRedoStack",e),r=o.undoStack,i=o.redoStack,a=r.peek();a&&(t.run("setUndoStack",ct(ct({},e),{undoStack:r.shift()})),t.run("setRedoStack",ct(ct({},e),{redoStack:i.push(n)})),Vn(a),t.change(a))}},redo:function(e){var t=e.controller,n=e.model;if(t.run("getAllowUndo",e)){var o=t.run("getUndoRedoStack",e),r=o.undoStack,i=o.redoStack,a=i.peek();a&&(t.run("setUndoStack",ct(ct({},e),{undoStack:r.push(n)})),t.run("setRedoStack",ct(ct({},e),{redoStack:i.shift()})),t.change(a))}},operation:function(e){var t=e.controller,n=e.opType,o=e.model,i=e.opArray,a=e.callback;if(null!=i&&!Array.isArray(i))throw new Error("operation: the type of opArray must be array!");if(null!=n&&null!=i)throw new Error("operation: opType and opArray conflict!");if(!t.run("isOperationEnabled",e)){if(0===r.size)return;if(null!=i){var c=i.filter((function(e){return!r.has(e.opType)}));if(c&&c.length>0)return}else if(!r.has(n))return}Vn("operation:",n),Vn("operation:",o),Vn("operation:",e);var l,u=t.run("getOpMap",e);if(t.run("beforeOperation",e),t.run("getAllowUndo",e)){var s=t.run("getUndoRedoStack",e).undoStack;t.run("setUndoStack",ct(ct({},e),{undoStack:s.push(o)}))}if(null!=i)l=i.reduce((function(e,n){var o=n.opType;if(!u.has(o))throw new Error("opType:"+o+" not exist!");var r=u.get(o),i=ct(ct({controller:t},n),{model:e}),a=t.run("beforeOpFunction",i);return a=r(ct(ct({},i),{model:a})),a=t.run("afterOpFunction",ct(ct({},i),{model:a}))}),o);else{if(!u.has(n))throw new Error("opType:"+n+" not exist!");var p=u.get(n);l=t.run("beforeOpFunction",e),l=p(ct(ct({},e),{model:l})),l=t.run("afterOpFunction",ct(ct({},e),{model:l}))}Vn("newModel:",l),t.change(l,a),t.run("afterOperation",e)},deleteRefKey:function(e){var t,n,o=e.model,r=e.topicKey,i=e.deleteRef,a=de(o,r);a.push(r);try{for(var c=st(a),l=c.next();!l.done;l=c.next()){var u=l.value;i(dn(u)),i(fn(u)),i(cn(u)),i(ln(u)),i(un(u)),i(sn(u)),i(pn(u)),i(yn(u)),i(hn(u,"next")),i(hn(u,"prev"))}}catch(s){t={error:s}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}},beforeOperation:function(e){},afterOperation:function(e){},beforeOpFunction:function(e){var t=e.controller,n=e.opType,o=e.model,r=e.topicKey;return n===Q&&r!==o.editorRootTopicKey&&t.run("deleteRefKey",e),o},afterOpFunction:function(e){return e.model}}}var Wn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return at(t,e),t.prototype.render=function(){var e=this.props.controller;return Object(o.createElement)(h.n,null,e.run("customizeTopicContextMenu",this.props))},t}(St),Gn=[{icon:"edit",label:"edit",shortcut:"Space",rootCanUse:!0,opType:ie},{icon:"add-sibling",label:"add sibling",shortcut:"Enter",opType:X},{icon:"add-child",label:"add child",shortcut:"Tab",rootCanUse:!0,opType:q},{icon:"notes",label:"edit notes",shortcut:"Alt + D",rootCanUse:!0,opType:ae},{icon:"delete-node",label:"delete node",shortcut:"Del",opType:Q},{icon:"root",label:"set as editor root",shortcut:"Alt + Shift + F",opType:le}];var Un,Zn,Yn=y()("node:topic-drop-effect"),Jn=d.default.svg(Un||(Un=ft(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 2;\n  pointer-events: none;\n"],["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 2;\n  pointer-events: none;\n"]))),qn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={content:null},t}return at(t,e),t.prototype.layout=function(){var e=this.props,t=this.props,n=t.getRef,r=t.model,i=t.zoomFactor,a=t.controller.run("getDragTargetProps",e),c=a.key,l=a.dropDir;if(Yn("layout",l),null!==c){var u=n("in"===l?cn(c):hn(c,l)),s=n("svg-drop-effect"),p=n(gn).bigView,d=_n(u,p,i),f=_n(s,p,i),y=d.left-f.left-3,h=d.top-f.top-3,m=d.width+6,g=d.height+6;this.setState({content:Object(o.createElement)("g",null,Object(o.createElement)("rect",{x:y,y:h,width:m,height:g,fill:"none",stroke:r.config.theme.highlightColor,strokeDasharray:"5,5",strokeWidth:2}))})}else this.setState({content:null})},t.prototype.render=function(){var e=this.props.saveRef;return Object(o.createElement)(Jn,{ref:e("svg-drop-effect")},this.state.content)},t}(St),Xn=y()("plugin:drag-and-drop"),Qn=d.default.div(Zn||(Zn=ft(["\n  height: ",";\n  width: 100%;\n  margin: 5px 0px;\n"],["\n  height: ",";\n  width: 100%;\n  margin: 5px 0px;\n"])),(function(e){return e.height+"px"}));function $n(){var e=null,t=null;return{renderTopicDropArea:function(e){var t=e.topicKey,n=e.dropDir,r=e.saveRef,i=e.controller,a=e.model,c={onDragEnter:function(o){Xn("onDragEnter",t,n),i.run("handleTopicDragEnter",ct(ct({},e),{ev:o,dropDir:n}))},onDragLeave:function(o){Xn("onDragLeave",t,n),i.run("handleTopicDragLeave",ct(ct({},e),{ev:o,dropDir:n}))},onDragOver:function(e){e.preventDefault()},onDrop:function(o){Xn("onDrop",t,n),i.run("handleTopicDrop",ct(ct({},e),{ev:o,dropDir:n}))}};return Object(o.createElement)(Qn,ct({height:a.config.theme.marginV/2,ref:r(hn(t,n))},c))},renderDragAndDropEffect:function(e){Xn("renderDragAndDropEffect");var t=e.saveRef;return Object(o.createElement)(qn,ct({ref:t(xn)},e))},getDragTargetProps:function(n){return{key:e,dropDir:t}},handleTopicDragStart:function(e){var t=e.controller;e.ev.stopPropagation(),t.run("operation",ct(ct({},e),{opType:$,focusMode:B}))},canDrop:function(e){var t=e.srcKey,n=e.dstKey,o=e.model,r=e.dropDir;return t!==o.editorRootTopicKey&&t!==n&&fe(o,t,n)!==V&&((n!==o.editorRootTopicKey||"in"===r)&&(o.getTopic(t).parentKey!==n||"in"!==r))},handleTopicDragEnter:function(n){var o=n.dropDir,r=n.topicKey,i=n.controller,a=n.model;Xn("handleTopicDragEnter:",r,o),i.run("canDrop",ct(ct({},n),{srcKey:a.focusKey,dstKey:r}))&&(e=r,t=o,i.change(a))},handleTopicDragLeave:function(n){var o=n.controller,r=n.model,i=n.topicKey,a=n.dropDir,c=n.getRef,l=n.ev.nativeEvent.relatedTarget;Xn("handleTopicDragLeave:",i,a);var u=c(cn(i));u==l||u.contains(l)||(e=null,t=null,o.change(r))},handleTopicDrop:function(n){Xn("handleTopicDrop");var o=n.controller,r=n.topicKey,i=n.model;n=ct(ct({},n),{srcKey:i.focusKey,dstKey:r}),e=null,t=null,o.run("canDrop",n)&&o.run("operation",ct(ct({},n),{opType:ce}))}}}var eo,to,no,oo,ro,io,ao,co,lo,uo,so,po=Object(d.default)(Ht)(eo||(eo=ft(["\n  position: absolute;\n  width: 20%;\n  padding: 0 5px;\n  background: white;\n  left: 30px;\n  top: 20px;\n  border-radius: 2px;\n"],["\n  position: absolute;\n  width: 20%;\n  padding: 0 5px;\n  background: white;\n  left: 30px;\n  top: 20px;\n  border-radius: 2px;\n"]))),fo=d.default.div(to||(to=ft(["\n  max-width: 600px;\n"],["\n  max-width: 600px;\n"]))),yo=d.default.span(no||(no=ft([""],[""]))),ho=function(e){function t(t){var n=e.call(this,t)||this;return n.setEditorRootTopicKey=function(e){return function(){var t=n.props,o=t.model,r=t.controller;o.editorRootTopicKey!==e&&r.change(me.setEditorRootTopicKey({model:o,topicKey:e}))}},n.breadcrumbRenderer=function(e){var t=e.text,n=lt(e,["text"]),r=t.length>8,i=r?t.substr(0,8)+"...":t,a={content:Object(o.createElement)(fo,null,t),position:h.u.BOTTOM_RIGHT},c=Object(o.createElement)(h.b,ct({},n),Object(o.createElement)(yo,null,i));return r?Object(o.createElement)(h.x,ct({},a),c):c},n.state={show:!1},n}return at(t,e),t.prototype.render=function(){var e=this.props,t=e.model,n=e.controller,r=e.zIndex,i=t.editorRootTopicKey;if(i===t.rootTopicKey)return null;for(var a=[],c=t.getTopic(i);null!=c;){var l=n.getValue(kn,ct(ct({},e),{topicKey:c.key}));a.unshift({text:l,onClick:this.setEditorRootTopicKey(c.key)}),c=t.getTopic(c.parentKey)}var u={items:a,breadcrumbRenderer:this.breadcrumbRenderer};return Object(o.createElement)(po,{zIndex:r},Object(o.createElement)(h.c,ct({},u)))},t}(St),mo=d.default.div(oo||(oo=ft(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 5px;\n"],["\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 5px;\n"]))),go=d.default.div(ro||(ro=ft(["\n  width: 100%;\n  height: 100%;\n  background: ",";\n"],["\n  width: 100%;\n  height: 100%;\n  background: ",";\n"])),(function(e){return e.theme.background})),bo=function(e){function t(t){var n=e.call(this,t)||this;return n.setZoomFactor=function(e){n.dragScrollWidget.setZoomFactor(e)},n.onWheel=function(e){if(e.altKey||e.ctrlKey){var t=n.props.controller,o=t.run("getZoomFactor",n.props);(o-=e.nativeEvent.deltaY>0?.1:-.1)<.5&&(o=.5),o>4&&(o=4),t.run("setZoomFactor",ct(ct({},n.props),{zoomFactor:o}))}},n}return at(t,e),t.prototype.renderHotkeys=function(){var e=this.props,t=e.controller,n=e.model,r=t.run("customizeHotKeys",e);if(null===r)return null;if(!(r.topicHotKeys instanceof Map&&r.globalHotKeys instanceof Map))throw new TypeError("topicHotKeys and globalHotKeys must be a Map");var i=[];return n.focusMode!==N&&n.focusMode!==A||r.topicHotKeys.forEach((function(e,t){i.push(Object(o.createElement)(h.j,ct({key:t},e,{global:!0})))})),r.globalHotKeys.forEach((function(e,t){i.push(Object(o.createElement)(h.j,ct({key:t},e,{global:!0})))})),Object(o.createElement)(h.k,null,i)},t.prototype.componentDidMount=function(){var e=this.props,t=e.getRef,n=e.model;e.controller.run("addZoomFactorChangeEventListener",ct(ct({},this.props),{listener:this.setZoomFactor}));var o=t(pn(n.editorRootTopicKey)),r=t("node-layer"),i=o.getBoundingClientRect(),a=r.getBoundingClientRect();this.dragScrollWidget.setViewBoxScrollDelta(0,i.top-a.top-this.dragScrollWidget.viewBox.getBoundingClientRect().height/2+i.height),this.layout()},t.prototype.componentWillUnmount=function(){this.props.controller.run("removeZoomFactorChangeEventListener",ct(ct({},this.props),{listener:this.setZoomFactor}))},Object.defineProperty(t.prototype,"dragScrollWidget",{get:function(){return this.props.getRef(gn)},enumerable:!0,configurable:!0}),t.prototype.componentDidUpdate=function(){this.props.controller.run("fireEvent",ct(ct({},this.props),{key:Tn})),this.layout()},t.prototype.layout=function(){this.props.controller.run("layout",this.props)},t.prototype.render=function(){var e=this,t=this.props,n=t.saveRef,r=t.model,i=t.controller,a=r.editorRootTopicKey;return Object(o.createElement)(go,{onWheel:this.onWheel},Object(o.createElement)(Dt,ct({},this.state,{enableMouseWheel:!1,zoomFactor:r.zoomFactor,ref:n(gn)}),(function(t,r){var c=ct(ct({},e.props),{topicKey:a,setViewBoxScroll:t,setViewBoxScrollDelta:r});return Object(o.createElement)(mo,{ref:n("node-layer")},i.run("renderRootWidget",c))})))},t=ut([h.l],t)}(o.Component),vo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClose=function(){var e=t.props.controller.run("handleActiveModalClose",t.props);e&&e()},t}return at(t,e),t.prototype.render=function(){var e=this.props.controller,t=e.run("renderModal",this.props),n=e.run("getActiveModalProps",this.props);return Object(o.createElement)(h.g,{onClose:this.handleClose,isOpen:null!==t,autoFocus:!0,enforceFocus:!0,usePortal:!0,title:n&&n.title,style:n&&n.style},Object(o.createElement)("div",{className:m.a.DIALOG_BODY,style:{minHeight:0}},t))},t}(St),xo=d.default.svg(io||(io=ft(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n  pointer-events: none;\n"],["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n  pointer-events: none;\n"]))),To=y()("node:root-sub-links"),Oo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={curves:[]},t}return at(t,e),t.prototype.layout=function(){var e,t,n,r=this.props,i=r.model,a=r.getRef,c=r.topicKey,l=r.zoomFactor,u=r.controller,s=i.getTopic(c),p=a(cn(c)),d=a(fn(c)),f=a(gn).bigView,y=_n(p,f,l),h=_n(d,f,l);e={x:(n=y,(n.left+n.right)/2-h.left),y:Kn(y)-h.top};var m=[];s.subKeys.forEach((function(n){var i,c=u.run("getLinkStyle",ct(ct({},r),{topicKey:n})),s=c.lineType,p=_n(a(cn(n)),f,l);if(t={x:(t=p.left>y.right?{x:p.left,y:Kn(p)}:{x:p.right,y:Kn(p)}).x-h.left,y:t.y-h.top},"curve"===s)i="M "+e.x+" "+e.y+" C "+e.x+" "+Dn(e,t)+" "+Rn(e,t)+" "+t.y+" "+t.x+" "+t.y;else if("line"===s)i="M "+e.x+" "+e.y+" L "+t.x+" "+t.y;else if("round"===s){var d=t.y>e.y?1:-1,g=t.x>e.x?1:-1,b=c.lineRadius;if(null==b)throw new Error("link line type is round, but lineRadius is not provided!");i=t.y===e.y?"M "+e.x+" "+e.y+" H "+t.x:"M "+e.x+" "+e.y+"  V "+(t.y-d*b)+" A "+b+" "+b+" 0 0 "+(d*g===1?0:1)+" "+(e.x+b*g)+" "+t.y+" H "+t.x}m.push(Object(o.createElement)("path",{key:"link-"+n,d:i,strokeWidth:c.lineWidth,stroke:c.lineColor,fill:"none"}))})),this.setState({curves:m})},t.prototype.render=function(){To("render");var e=this.props,t=e.topicKey,n=e.saveRef;return Object(o.createElement)(xo,{ref:n(fn(t))},Object(o.createElement)("g",null,this.state.curves))},t}(St),Eo=y()("RootNode"),ko=d.default.div(ao||(ao=ft(["\n  display: flex;\n  position: relative;\n\n  align-items: ",";\n  flex-direction: column;\n\n  padding: ",";\n"],["\n  display: flex;\n  position: relative;\n\n  align-items: ",";\n  flex-direction: column;\n\n  padding: ",";\n"])),(function(e){return e.topicDirection===R?"flex-end":"flex-start"}),(function(e){return e.topicDirection===R?"15px 60px 15px 0px":"15px 0px 15px 60px"})),wo=d.default.div(co||(co=ft(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  z-index: 3;\n"],["\n  display: flex;\n  position: relative;\n  align-items: center;\n  z-index: 3;\n"]))),Co=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return at(t,e),t.prototype.renderPartTopics=function(e,t){var n=this.props,r=n.controller,i=n.saveRef,a=r.run("createSubTopics",ct(ct({},this.props),{dir:t,isRoot:!0,topics:e}));if(!a)return null;var c=a.subTopics,l="bm-layer-"+(t===R?"left":"right");return Object(o.createElement)(ko,{topicDirection:t,ref:i(l)},c)},t.prototype.render=function(){Eo("render");var e=this.props,t=e.model,n=e.topicKey,r=e.saveRef,i=e.controller,a=i.run("getTopicContentStyle",e),c=t.config,l=i.run("renderTopicContent",ct(ct({},e),{topicStyle:a,dir:L})),u=i.run("getPartTopics",{layout:c.layoutDir,model:t,topicKey:n}),s=Object(o.createElement)(wo,{ref:r(pn(n))},l),p=i.run("renderRootWidgetOtherChildren",e);switch(c.layoutDir){case j.LEFT_AND_RIGHT:return Object(o.createElement)(o.Fragment,null,this.renderPartTopics(u.L,"L"),s,this.renderPartTopics(u.R,"R"),p);case j.LEFT_TO_RIGHT:return Object(o.createElement)(o.Fragment,null,s,this.renderPartTopics(u.R,"R"),p);case j.RIGHT_TO_LEFT:return Object(o.createElement)(o.Fragment,null,this.renderPartTopics(u.L,"L"),s,p);case j.TOP_TO_BOTTOM:return Object(o.createElement)(o.Fragment,null,s,this.renderPartTopics(u.B,"B"),p)}return null},t}(o.Component),So=d.default.div(so||(so=ft(["\n  position: absolute;\n  top: calc(50% - 10px);\n  ",";\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  text-align: center;\n  //@ts-ignore\n  background: ",";\n  cursor: pointer;\n  padding: 0;\n  font-size: 14px;\n  line-height: 20px;\n  border: 0;\n  z-index: 2;\n"],["\n  position: absolute;\n  top: calc(50% - 10px);\n  ",";\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  text-align: center;\n  //@ts-ignore\n  background: ",";\n  cursor: pointer;\n  padding: 0;\n  font-size: 14px;\n  line-height: 20px;\n  border: 0;\n  z-index: 2;\n"])),(function(e){var t=e.dir;return t===D?Object(d.css)(lo||(lo=ft(["\n        right: -25px;\n      "],["\n        right: -25px;\n      "]))):t===R?Object(d.css)(uo||(uo=ft(["\n        left: -25px;\n      "],["\n        left: -25px;\n      "]))):void 0}),(function(e){return e.background}));function jo(e){var t,n=e.model,r=e.topicKey,i=e.topicStyle,a=e.dir,c=e.saveRef,l=e.onClickCollapse,u=n.getTopic(r);return u.subKeys.size>0?Object(o.createElement)(So,{ref:c(yn(r)),onClick:l,background:i.background,dir:a,className:tt()((t={icon:!0,iconfont:!0},t["bm-"+(u.collapse?"plus":"minus")]=!0,t))}):null}var Ko,Ro,Do=y()("node:topic-content2"),Lo=d.default.div(Ko||(Ko=ft(["\n  position: relative;\n"],["\n  position: relative;\n"]))),_o=d.default.div(Ro||(Ro=ft(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: auto;\n  z-index: 10;\n  color: black;\n"],["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: auto;\n  z-index: 10;\n  color: black;\n"]))),Mo=function(e){Do("cancelEvent"),e.preventDefault(),e.stopPropagation()};function Po(e){var t,n=e.controller,r=e.model,i=e.topicKey,a=e.getRef,c=r.editingContentKey!==i,l=n.run("renderTopicContentEditor",ct(ct({},e),{readOnly:c}));if(c)t=l;else{var u,s={width:50,height:40},d=a("content-editor-"+i);d&&(s=d.getBoundingClientRect());var f=new p.a((function(e,t){var n=e[0].contentRect;u.style.left=(s.width-n.width)/2+"px",u.style.top=(s.height-n.height)/2+"px"}));Do(s),t=Object(o.createElement)(o.Fragment,null,Object(o.createElement)("div",{style:{width:s.width,height:s.height}}),Object(o.createElement)(_o,{ref:function(e){e&&(u=e,f.observe(u))}},l))}return Object(o.createElement)(Lo,{onDragEnter:Mo,onDragOver:Mo},t)}var Io,No,zo,Fo=y()("node:topic-content-widget"),Ao=d.default.div(Io||(Io=ft(["\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  //overflow: hidden;\n  position: relative;\n"],["\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  //overflow: hidden;\n  position: relative;\n"]))),Bo=d.default.div(No||(No=ft(["\n  position: relative;\n"],["\n  position: relative;\n"]))),Vo=function(e){function t(t){var n=e.call(this,t)||this;return n.onDragStart=function(e){n.run("handleTopicDragStart",ct(ct({},n.props),{ev:e}))},n.onDragOver=function(e){e.preventDefault()},n.onDragEnter=function(e){Fo("onDragEnter",n.props.topicKey),n.run("handleTopicDragEnter",ct(ct({},n.props),{ev:e,dropDir:"in"}))},n.onDragLeave=function(e){n.run("handleTopicDragLeave",ct(ct({},n.props),{ev:e,dropDir:"in"}))},n.onDrop=function(e){Fo("onDrop"),n.run("handleTopicDrop",ct(ct({},n.props),{ev:e,dropDir:"in"}))},n.onClick=function(e){var t=n.props.controller;n.handleTopicClickTimeout=setTimeout((function(){t.run("handleTopicClick",ct(ct({},n.props),{ev:e}))}),200)},n.onDoubleClick=function(e){clearTimeout(n.handleTopicClickTimeout),n.props.controller.run("handleTopicDoubleClick",ct(ct({},n.props),{ev:e}))},n.needRelocation=!1,n.onClickCollapse=function(e){e.stopPropagation();var t=n.props,o=t.topicKey,r=t.getRef;n.needRelocation=!0;var i=r(yn(o)).getBoundingClientRect();Fo("oldRect",i),n.oldCollapseIconVector=[i.left+i.width/2,i.top+i.height/2],Fo("oldCollapseIconVector",n.oldCollapseIconVector),n.operation(U,n.props)},n.state={dragEnter:!1},n}return at(t,e),t.prototype.renderContextMenu=function(){var e=this.props.controller;if(e.getValue(En,ct({},this.props)))return this.operation($,ct(ct({},this.props),{focusMode:A})),e.run("renderTopicContextMenu",this.props)},t.prototype.onContextMenuClose=function(){},t.prototype.componentDidUpdate=function(){if(this.needRelocation){var e=this.props,t=e.getRef,n=e.topicKey,o=e.setViewBoxScrollDelta,r=t(yn(n)).getBoundingClientRect(),i=[r.left+r.width/2,r.top+r.height/2];Fo("newVector:",i),Fo("oldVector:",this.oldCollapseIconVector);var a=[i[0]-this.oldCollapseIconVector[0],i[1]-this.oldCollapseIconVector[1]];Fo("vector",a),o(a[0],a[1]),this.needRelocation=!1}},t.prototype.render=function(){var e=this.props,t=e.saveRef,n=e.topicKey,r=e.model,i=e.controller,a=e.topicStyle,c=e.dir;Fo("render",n,r.focusMode);var l=i.run("isOperationEnabled",e)&&r.editingContentKey!==n,u=i.run("renderTopicCollapseIcon",ct(ct({},e),{onClickCollapse:this.onClickCollapse.bind(this)})),s=i.run("renderTopicDropArea",ct(ct({},e),{dropDir:"prev"})),p=i.run("renderTopicDropArea",ct(ct({},e),{dropDir:"next"})),d={onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this.onDragOver,onDrop:this.onDrop};return Object(o.createElement)(Bo,null,s,Object(o.createElement)(Ao,ct({style:a,draggable:l,ref:t(cn(n)),onDragStart:this.onDragStart,onClick:this.onClick,onDoubleClick:this.onDoubleClick},d),i.run("renderTopicBlocks",e),i.run("renderTopicContentOthers",e)),p,c!==L&&u)},t=ut([h.f],t)}(St),Ho=y()("node:topic-desc"),Wo=d.default.div(zo||(zo=ft(["\n  overflow: auto;\n"],["\n  overflow: auto;\n"])));function Go(e){var t=e.controller,n=e.model,r=e.topicKey,i=e.getRef,a=n.editingDescKey===r;Ho("isEditing",a);var c=n.getTopic(r).getBlock(I);if(!a&&t.run("isBlockEmpty",ct(ct({},e),{block:c.block})))return null;var l=t.run("renderTopicDescEditor",e),u=i(mn),s={maxWidth:"800px",maxHeight:"600px"};if(u){var p=u.getBoundingClientRect();s.maxWidth=.6*p.width+"px",s.maxHeight=.8*p.height+"px"}var d={autoFocus:!1,content:Object(o.createElement)(Wo,{onClick:wn,classname:m.a.POPOVER_DISMISS,style:s},l),target:Object(o.createElement)(Vt,{onClick:function(n){n.stopPropagation(),t.run("operation",ct(ct({},e),{opType:ae}))},className:rn(qt),tabIndex:-1}),interactionKind:h.t.HOVER,hoverOpenDelay:500};return c.block&&Object(o.createElement)(h.s,ct({},d))}var Uo,Zo,Yo,Jo,qo,Xo,Qo,$o,er,tr=d.default.svg(Uo||(Uo=ft(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 2;\n  pointer-events: none;\n"],["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 2;\n  pointer-events: none;\n"]))),nr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={content:null},t}return at(t,e),t.prototype.layout=function(){var e=this.props,t=e.getRef,n=e.model,r=e.zoomFactor,i=n.focusKey,a=n.focusMode;if(i&&a!==z){var c=t(cn(i)),l=t(gn).bigView,u=t(bn),s=_n(c,l,r),p=_n(u,l,r),d=s.left-p.left-3,f=s.top-p.top-3,y=s.width+6,h=s.height+6;this.setState({content:Object(o.createElement)("rect",{x:d,y:f,width:y,height:h,fill:"none",stroke:n.config.theme.highlightColor,strokeWidth:2})})}else this.setState({content:null})},t.prototype.render=function(){var e=this.props.saveRef;return Object(o.createElement)(tr,{ref:e(bn)},this.state.content)},t}(St),or=d.default.svg(Zo||(Zo=ft(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n  pointer-events: none;\n"],["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n  pointer-events: none;\n"]))),rr=y()("node:topic-sub-links"),ir=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={curves:[]},t}return at(t,e),t.prototype.layout=function(){var e,t,n,r=this.props,i=r.model,a=r.getRef,c=r.topicKey,l=r.dir,u=r.controller,s=u.run("getZoomFactor",r),p=i.getTopic(c),d=a(cn(c)),f=a(fn(c)),y=a(yn(c)),h=a(gn).bigView,m=_n(f,h,s),g=_n(y,h,s),b=_n(d,h,s);rr(c),rr("svgRect",m),rr("collapseRect",g),rr("contentRect",b),l===D?(e={x:0,y:Kn(b)-m.top},t={x:g.right-m.left+10,y:e.y}):l===R&&(e={x:m.right-m.left,y:Kn(b)-m.top},t={x:g.left-m.left-10,y:e.y});var v=[];p.subKeys.forEach((function(i){var c,d=u.run("getLinkStyle",ct(ct({},r),{topicKey:i})),f=a(cn(i));if(f){var y=_n(f,h,s);l===D&&(n={x:y.left-m.left,y:Kn(y)-m.top}),l===R&&(n={x:y.right-m.left,y:Kn(y)-m.top});var g=d.lineType;if("curve"===g)c="M "+e.x+" "+e.y+" L "+t.x+" "+t.y+" C "+t.x+" "+Dn(t,n)+" "+Rn(t,n)+" "+n.y+" "+n.x+" "+n.y;else if("round"===g){var b=n.y>e.y?1:-1,x=n.x>e.x?1:-1,T=d.lineRadius;c=1===p.subKeys.size||Math.abs(n.y-e.y)<=1?"M "+e.x+" "+e.y+" L "+n.x+" "+n.y:"M "+e.x+" "+e.y+" H "+t.x+" V "+(n.y-b*T)+" A "+T+" "+T+" 0 0 "+(b*x===1?0:1)+" "+(t.x+T*x)+" "+n.y+" H "+n.x}else"line"===g&&(c="M "+e.x+" "+e.y+" H "+t.x+" L "+n.x+" "+n.y);v.push(Object(o.createElement)("path",{key:"link-"+i,d:c,strokeWidth:d.lineWidth,stroke:d.lineColor,fill:"none"}))}})),this.setState({curves:v})},t.prototype.render=function(){var e=this.props,t=e.topicKey,n=e.saveRef;return Object(o.createElement)(or,{ref:n(fn(t))},Object(o.createElement)("g",null,this.state.curves))},t}(St),ar=y()("node:topic-widget"),cr=d.default.div(Yo||(Yo=ft(["\n  display: flex;\n  align-items: center;\n  flex-direction: ",";\n"],["\n  display: flex;\n  align-items: center;\n  flex-direction: ",";\n"])),(function(e){return e.topicDirection===D?"row":"row-reverse"})),lr=d.default.div(Jo||(Jo=ft(["\n  position: relative;\n  padding: ",";\n"],["\n  position: relative;\n  padding: ",";\n"])),(function(e){return e.dir===D?"0 0 0 "+e.marginH+"px":"0 "+e.marginH+"px 0 0"})),ur=d.default.div(qo||(qo=ft(["\n  display: flex;\n  position: relative;\n  align-items: center;\n\n  flex-direction: ",";\n"],["\n  display: flex;\n  position: relative;\n  align-items: center;\n\n  flex-direction: ",";\n"])),(function(e){return e.topicDirection===D?"row":"row-reverse"})),sr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return at(t,e),t.prototype.renderSubTopics=function(){var e=this.props,t=e.controller,n=e.model,r=e.topicKey,i=e.dir,a=n.getTopic(r).subKeys.toArray(),c=t.run("createSubTopics",ct(ct({},e),{topics:a}));if(!c)return null;var l=c.subTopics,u=t.run("renderSubLinks",e);return Object(o.createElement)(lr,{dir:i,marginH:n.config.theme.marginH},l," ",u)},t.prototype.layoutLinks=function(){var e=this.props,t=e.getRef,n=e.topicKey,o=e.model.getTopic(n);if(0!==o.subKeys.size&&!o.collapse){ar("layoutLinks",n);var r=t(dn(n));r&&r.layout()}},t.prototype.render=function(){var e=this.props,t=e.controller,n=e.topicKey,r=e.dir,i=e.saveRef;ar("render",n);var a=t.run("getTopicContentStyle",e),c=ct(ct({},e),{topicStyle:a}),l=t.run("renderTopicContent",c);return Object(o.createElement)(cr,{topicDirection:r},Object(o.createElement)(ur,{topicDirection:r,ref:i(pn(n))},l),this.renderSubTopics())},t}(o.Component),pr=y()("node:view-port-viewer"),dr=Object(d.default)(Ht)(Xo||(Xo=ft(["\n  position: absolute;\n  background: white;\n  right: 30px;\n  bottom: 20px;\n  border-radius: 2px;\n  display: flex;\n  flex-direction: row;\n  user-select: none;\n"],["\n  position: absolute;\n  background: white;\n  right: 30px;\n  bottom: 20px;\n  border-radius: 2px;\n  display: flex;\n  flex-direction: row;\n  user-select: none;\n"]))),fr=Object(d.default)(zt)(Qo||(Qo=ft(["\n  margin: 10px;\n"],["\n  margin: 10px;\n"]))),yr=d.default.span($o||($o=ft(["\n  display: inline-block;\n  width: 80px;\n  height: 18px;\n"],["\n  display: inline-block;\n  width: 80px;\n  height: 18px;\n"]))),hr=function(e){return Object(o.createElement)(h.x,{content:e.tooltip,position:g.a.TOP,className:m.a.ICON},Object(o.createElement)(fr,{onClick:e.onClick,tabIndex:-1},e.children))},mr=function(e){function t(t){var n=e.call(this,t)||this;return n.zoomFactorChange=function(e){pr("zoomFactorChange",e),n.setState({zoomFactor:e})},n.onClickResetZoom=function(e){var t=n.props;t.controller.run("setZoomFactor",ct(ct({},t),{zoomFactor:1}))},n.onClickAddZoom=function(e){var t=n.props,o=t.controller,r=o.run("getZoomFactor",t);o.run("setZoomFactor",ct(ct({},t),{zoomFactor:r+.1}))},n.onClickMinusZoom=function(e){var t=n.props,o=t.controller,r=o.run("getZoomFactor",t);o.run("setZoomFactor",ct(ct({},t),{zoomFactor:r-.1}))},n.onClickCollapseAll=function(e){var t=n.props,o=t.controller;o.run("addEventListener",ct(ct({},t),{key:Tn,listener:n.centerRootTopic,once:!0})),o.run("operation",ct(ct({},t),{opType:Z}))},n.onClickExpandAll=function(e){var t=n.props,o=t.controller;o.run("addEventListener",ct(ct({},t),{key:Tn,listener:n.centerRootTopic,once:!0})),o.run("operation",ct(ct({},t),{opType:Y}))},n.centerRootTopic=function(){var e=n.props,t=e.model;e.controller.run("moveTopicToCenter",ct(ct({},n.props),{topicKey:t.editorRootTopicKey}))},n}return at(t,e),t.prototype.componentDidMount=function(){var e=this.props;e.controller.run("addZoomFactorChangeEventListener",ct(ct({},e),{listener:this.zoomFactorChange}))},t.prototype.componentWillUnmount=function(){var e=this.props;e.controller.run("removeZoomFactorChangeEventListener",ct(ct({},e),{listener:this.zoomFactorChange}))},t.prototype.render=function(){pr("render");var e=this.props,t=e.controller,n=e.zIndex,r=t.run("getZoomFactor",e);return Object(o.createElement)(dr,{zIndex:n},Object(o.createElement)(hr,{onClick:this.onClickCollapseAll,tooltip:"collapse all"},an($t)),Object(o.createElement)(hr,{onClick:this.onClickExpandAll,tooltip:"expand all"},an(en)),Object(o.createElement)(hr,{onClick:this.centerRootTopic,tooltip:"center root topic"},an(tn)),Object(o.createElement)(hr,{onClick:this.onClickMinusZoom,tooltip:"zoom in"},an(Qt)),Object(o.createElement)(hr,{onClick:this.onClickResetZoom,tooltip:"reset zoom"},Object(o.createElement)(yr,null,"zoom:"+Math.floor(100*r)+"%")),Object(o.createElement)(hr,{onClick:this.onClickAddZoom,tooltip:"zoom out"},an(Xt)))},t}(St),gr=d.default.div(er||(er=ft(["\n  overflow: auto;\n  padding: 0px 0px 0px 20px;\n  background: #88888850;\n"],["\n  overflow: auto;\n  padding: 0px 0px 0px 20px;\n  background: #88888850;\n"])));function br(e){var t=e.controller,n=e.model,r=e.topicKey;if(n.focusMode===F){var i=t.run("renderTopicDescEditor",e);return Object(o.createElement)(h.i,{key:"drawer",title:"Edit Notes",icon:an("note"),isOpen:!0,hasBackdrop:!0,backdropProps:{onMouseDown:wn},isCloseButtonShown:!1,onClose:function(n){n.stopPropagation();var o="topic-desc-data-"+r,i=t.run("deleteTempValue",{key:o});t.run("operation",ct(ct({},e),{opType:oe,topicKey:r,blockType:I,data:i,focusMode:N}))},size:"70%"},Object(o.createElement)(gr,null,i))}}function vr(e){var t=e.theme,n=e.children;return Object(o.createElement)(d.ThemeProvider,{theme:t},Object(o.createElement)(o.Fragment,null,n))}var xr,Tr=y()("plugin:rendering");function Or(){var e,t=d.default.div(xr||(xr=ft(["\n    width: 100%;\n    height: 100%;\n    background: ",";\n    position: relative;\n  "],["\n    width: 100%;\n    height: 100%;\n    background: ",";\n    position: relative;\n  "])),(function(e){return e.theme.background}));return{getDiagramProps:function(){return e},renderDiagram:function(n){var r=n.model,i=n.controller;return Object(o.createElement)(_t,null,(function(a,c,l){return e=ct(ct({},n),{saveRef:a,getRef:c,deleteRef:l}),Tr("renderDiagram",r),Object(o.createElement)(vr,{theme:r.config.theme},Object(o.createElement)(t,{ref:a(mn)},Object(o.createElement)(bo,ct({},e)),i.run("renderDiagramCustomize",e)))}))},renderDrawer:br,renderDiagramCustomize:function(e){var t=e.controller,n=e.model,o=t.getValue(On),r=ct(ct({},e),{zIndex:o,topicKey:n.focusKey});return[t.run("renderEditorRootBreadcrumbs",r),t.run("renderRightTopPanel",r),t.run("renderModals",ct(ct({},r),{zIndex:o+1})),t.run("renderDrawer",ct(ct({},r),{zIndex:o+1})),t.run("renderViewPortViewer",r)]},renderEditorRootBreadcrumbs:function(e){return Object(o.createElement)(ho,ct({key:"EditorRootBreadcrumbs"},e))},renderModals:function(e){return Object(o.createElement)(vo,ct({key:"modals"},e))},renderModal:function(e){return null},getActiveModalProps:function(e){return null},renderDoc:function(e){return e.children},renderRootWidget:function(e){return Object(o.createElement)(Co,ct({},e))},renderTopicWidget:function(e){return Object(o.createElement)(sr,ct({},e))},renderTopicContent:function(e){return Object(o.createElement)(Vo,ct({},e))},renderTopicCollapseIcon:function(e){return Object(o.createElement)(jo,ct({},e))},renderTopicContentOthers:function(e){return[]},renderTopicBlocks:function(e){var t=e.model,n=e.topicKey,r=e.controller,i=t.getTopic(n).blocks,a=[],c=0;return i.forEach((function(t){var n=r.run("renderTopicBlock",ct(ct({},e),{block:t,blockKey:"block-"+c}));n&&(a.push(Object(o.createElement)(o.Fragment,{key:"block-"+c},n)),c++)})),a},renderTopicBlock:function(e){var t=e.controller;switch(e.block.type){case P:return t.run("renderTopicBlockContent",e);case I:return t.run("renderTopicBlockDesc",e)}return null},renderTopicBlockContent:function(e){return Object(o.createElement)(Po,ct({},e))},renderTopicBlockDesc:function(e){return Object(o.createElement)(Go,ct({},e))},renderSubLinks:function(e){var t=e.saveRef,n=e.topicKey,r=e.model.getTopic(n);return 0===r.subKeys.size||r.collapse?null:Object(o.createElement)(ir,ct({ref:t(dn(n))},e))},renderRootSubLinks:function(e){var t=e.saveRef,n=e.topicKey;return Object(o.createElement)(Oo,ct({ref:t(dn(n))},e))},renderFocusItemHighlight:function(e){var t=e.saveRef;return Object(o.createElement)(nr,ct({ref:t(vn)},e))},renderRootWidgetOtherChildren:function(e){var t=e.controller,n=t.run("getZoomFactor",e);return e=ct(ct({},e),{zoomFactor:n}),Object(o.createElement)(o.Fragment,null,t.run("renderRootSubLinks",e),t.run("renderFocusItemHighlight",e),t.run("renderDragAndDropEffect",e))},renderViewPortViewer:function(e){return Object(o.createElement)(mr,ct({key:"view-port-viewer"},e))}}}var Er,kr,wr=Object(d.default)(Ht)(Er||(Er=ft(["\n  position: absolute;\n  background: white;\n  right: 30px;\n  top: 20px;\n  border-radius: 2px;\n  user-select: none;\n"],["\n  position: absolute;\n  background: white;\n  right: 30px;\n  top: 20px;\n  border-radius: 2px;\n  user-select: none;\n"]))),Cr=Object(d.default)(h.w)(kr||(kr=ft(["\n  padding: 0px 10px;\n"],["\n  padding: 0px 10px;\n"])));function Sr(e){var t=e.controller,n=e.zIndex,r=e.selectedTabId,i=e.handleTabIdChange,a=pt(Object(o.useState)(!1),2),c=a[0],l=a[1];return c?Object(o.createElement)(wr,{zIndex:n},Object(o.createElement)(Bt,null,Object(o.createElement)(At,{className:rn(Yt),onClick:function(){return l(!1)}})),Object(o.createElement)(Cr,{id:r,onChange:i},t.run("renderRightTopPanelTabs",e))):Object(o.createElement)(wr,{zIndex:n},Object(o.createElement)(Nt,{onClick:function(){return l(!0)}},Object(o.createElement)(It,{className:rn(Zt)})))}var jr,Kr,Rr,Dr,Lr,_r,Mr,Pr=d.default.div(jr||(jr=ft(["\n  margin-top: 10px;\n  margin-bottom: 5px;\n  font-weight: bold;\n"],["\n  margin-top: 10px;\n  margin-bottom: 5px;\n  font-weight: bold;\n"]))),Ir=d.default.span(Kr||(Kr=ft(["\n  margin: 0px 10px 0px 0px;\n"],["\n  margin: 0px 10px 0px 0px;\n"]))),Nr=d.default.div(Rr||(Rr=ft(["\n  padding: 10px;\n  margin: 0 0 10px 0;\n  border: rgba(16, 22, 26, 0.15) solid 1px;\n  border-radius: 5px;\n"],["\n  padding: 10px;\n  margin: 0 0 10px 0;\n  border: rgba(16, 22, 26, 0.15) solid 1px;\n  border-radius: 5px;\n"]))),zr=Object(d.default)(Ir)(Dr||(Dr=ft([""],[""]))),Fr=d.default.div(Lr||(Lr=ft(["\n  display: flex;\n  align-items: center;\n  //justify-content: center;\n  margin: 5px 0;\n"],["\n  display: flex;\n  align-items: center;\n  //justify-content: center;\n  margin: 5px 0;\n"]))),Ar=d.default.div(_r||(_r=ft(["\n  height: 3px;\n  width: 80%;\n  margin-left: 10%;\n  margin-right: 10%;\n  margin-bottom: 2px;\n  background: ",";\n"],["\n  height: 3px;\n  width: 80%;\n  margin-left: 10%;\n  margin-right: 10%;\n  margin-bottom: 2px;\n  background: ",";\n"])),(function(e){return e.color})),Br=d.default.div(Mr||(Mr=ft(["\n  border: 1px solid grey;\n  cursor: pointer;\n  font-weight: bold;\n"],["\n  border: 1px solid grey;\n  cursor: pointer;\n  font-weight: bold;\n"])));function Vr(e){return Object(o.createElement)("div",null,e.children,Object(o.createElement)(h.h,{style:{margin:"10px 0"}}))}function Hr(e){var t=e.color,n=e.handleColorChange;return Object(o.createElement)(Ir,null,Object(o.createElement)(h.s,null,Object(o.createElement)(Br,null,Object(o.createElement)("div",{className:rn(Jt)}),Object(o.createElement)(Ar,{color:t})),Object(o.createElement)("div",null,Object(o.createElement)(ot.a,{color:t,onChangeComplete:function(e){return n(e.hex)}}))))}function Wr(e){var t=e.title,n=e.handleClick;return Object(o.createElement)(Ir,null,Object(o.createElement)(h.d,{onClick:n},t))}function Gr(e){var t=e.layout,n=void 0===t?"h":t,r=e.title,i=lt(e,["layout","title"]),a={flexDirection:"h"===n?"row":"column",alignItems:"center"};return Object(o.createElement)(Ir,null,Object(o.createElement)(Mt,ct({},a),Object(o.createElement)(Pt,{margin:"0 5px 0 0"},r),Object(o.createElement)(h.q,ct({},i))))}function Ur(e){var t=e.text,n=e.items,r=e.itemRenderer,i=e.onItemSelect,a=nt.a.ofType(),c={items:n,itemRenderer:r,onItemSelect:i,filterable:!1};return Object(o.createElement)(Ir,null,Object(o.createElement)(a,ct({},c),Object(o.createElement)(h.d,{text:t})))}var Zr=function(e){return function(t,n){var r=n.handleClick;return Object(o.createElement)(h.p,{text:""+t+e,key:t,onClick:r})}},Yr=(nt.a.ofType(),dt(Array(7).keys())),Jr=dt(Array(7).keys()),qr=[0,5,10,15,20,25,30,35],Xr=["none","solid","dotted","dashed","double"];function Qr(e){var t=e.contentStyle,n=e.setContentStyle;return Object(o.createElement)(Vr,null,Object(o.createElement)(Pr,null,"Border"),Object(o.createElement)("div",null,Object(o.createElement)(Ur,{text:"width: "+(t.borderWidth?t.borderWidth:"0px"),items:Jr,itemRenderer:Zr("px"),onItemSelect:function(e){n({borderWidth:e+"px"})}}),Object(o.createElement)(Ur,{text:"style: "+(t.borderStyle?t.borderStyle:"none"),items:Xr,itemRenderer:Zr(""),onItemSelect:function(e){n({borderStyle:e})}}),Object(o.createElement)(Ur,{text:"radius: "+t.borderRadius,items:qr,itemRenderer:Zr("px"),onItemSelect:function(e){n({borderRadius:e+"px"})}}),Object(o.createElement)(Hr,{color:t.borderColor,handleColorChange:function(e){n({borderColor:e})}})))}var $r=["curve","round","line"],ei=function(e,t){var n=t.handleClick;t.modifiers,t.query;return Object(o.createElement)(h.p,{text:""+e,key:e,onClick:n})};function ti(e){var t=e.showLinkStyle,n=void 0===t||t,r=e.showSubLinkStyle,i=void 0===r||r,a=e.linkStyle,c=void 0===a?{}:a,l=e.subLinkStyle,u=void 0===l?{}:l,s=e.setLinkStyle,p=e.setSubLinkStyle;return Object(o.createElement)(Vr,null,Object(o.createElement)(Pr,null,"Link"),n&&Object(o.createElement)(Fr,{alignItems:"center"},Object(o.createElement)(Pt,{margin:"0 5px 0 0"},"LinkToParent: "),Object(o.createElement)(Ur,{text:"width: "+(c?c.lineWidth:"0px"),items:Yr,itemRenderer:Zr("px"),onItemSelect:function(e){s({lineWidth:e+"px"})}}),Object(o.createElement)(Ur,{text:"lineType: "+c.lineType,items:$r,itemRenderer:ei,onItemSelect:function(e){s({lineType:e})}}),Object(o.createElement)(Hr,{color:c.lineColor,handleColorChange:function(e){s({lineColor:e})}})),i&&Object(o.createElement)(Fr,{alignItems:"center"},Object(o.createElement)(Pt,{margin:"0 5px 0 0"},"SubLinks: "),Object(o.createElement)(Ur,{text:"width: "+(u?u.lineWidth:"0px"),items:Yr,itemRenderer:Zr("px"),onItemSelect:function(e){p({lineWidth:e+"px"})}}),Object(o.createElement)(Ur,{text:"lineType: "+u.lineType,items:$r,itemRenderer:ei,onItemSelect:function(e){p({lineType:e})}}),Object(o.createElement)(Hr,{color:u.lineColor,handleColorChange:function(e){p({lineColor:e})}})))}function ni(e){var t=e.contentStyle,n=e.setContentStyle,r={title:"FontSize:",min:12,max:100,value:parseInt(t.fontSize),style:{width:50},onValueChange:function(e){n({fontSize:e})}},i={style:{width:50},value:t.lineHeight||"",onChange:function(e){n({lineHeight:e.target.value})}};return Object(o.createElement)(Vr,null,Object(o.createElement)(Pr,null,"Text Editor"),Object(o.createElement)(Mt,null,Object(o.createElement)(Gr,ct({},r)),Object(o.createElement)(Ir,null,Object(o.createElement)(Mt,{alignItems:"center"},Object(o.createElement)(Pt,{margin:"0 5px 0 0"},"LineHeight: "),Object(o.createElement)(h.m,ct({},i)))),Object(o.createElement)(Hr,{color:t.color,handleColorChange:function(e){n({color:e})}})))}var oi,ri=y()("node:style-editor");function ii(e){var t=e.controller,n=e.model,r=e.topicKey,i=n.getTopic(r),a=function(n){t.run("setTopicContentStyle",ct(ct({},e),{style:n}))};if(!n.focusKey)return null;var c=t.run("getTopicContentStyle",e),l={linkStyle:t.run("getLinkStyle",e),subLinkStyle:t.run("getSubLinkStyle",e),setLinkStyle:function(n){t.run("setLinkStyle",ct(ct({},e),{linkStyle:n}))},setSubLinkStyle:function(n){t.run("setSubLinkStyle",ct(ct({},e),{subLinkStyle:n}))}},u={contentStyle:c,setContentStyle:a};return Object(o.createElement)(Wt,null,Object(o.createElement)(Qr,ct({},u)),Object(o.createElement)(ni,ct({},u)),Object(o.createElement)(Vr,null,Object(o.createElement)(Pr,null,"Background"),Object(o.createElement)(Hr,{color:c.background,handleColorChange:function(e){a({background:e})}})),Object(o.createElement)(ti,ct({},l)),Object(o.createElement)(Vr,null,Object(o.createElement)(Wr,{title:"Clear Topic Style",handleClick:function(){i.style&&t.run("operation",ct(ct({},e),{opType:te,style:null}))}}),Object(o.createElement)(Wr,{title:"Copy Style",handleClick:function(){oi=t.run("getTopicStyle",e),ri(oi)}}),Object(o.createElement)(Wr,{title:"Paste Style",handleClick:function(){oi&&t.run("operation",ct(ct({},e),{opType:te,style:JSON.stringify(oi)}))}})),function(e){var t=e.controller;return Object(o.createElement)(Vr,null,Object(o.createElement)(Ir,null,Object(o.createElement)(h.d,{onClick:function(n){t.run("clearAllCustomStyle",e)}},"Clear All Custom Styles")))}(e))}var ai=n(496);function ci(e){var t=e.contentStyle,n=e.setContentStyle,r=ai("padding",t.padding||"0"),i={layout:"v",min:0,max:99,style:{width:38}},a=parseInt(r["padding-top"]),c=parseInt(r["padding-right"]),l=parseInt(r["padding-bottom"]),u=parseInt(r["padding-left"]),s={top:a,right:c,bottom:l,left:u},p=function(e){return function(t){var o;n({padding:jn(ct(ct({},s),(o={},o[e]=t,o)))})}},d=ct(ct({},i),{title:"top",value:a,onValueChange:p("top")}),f=ct(ct({},i),{title:"right",value:c,onValueChange:p("right")}),y=ct(ct({},i),{title:"bottom",value:l,onValueChange:p("bottom")}),h=ct(ct({},i),{title:"left",value:u,onValueChange:p("left")});return Object(o.createElement)(Vr,null,Object(o.createElement)(Pr,null,"Padding"),Object(o.createElement)(Fr,null,Object(o.createElement)(Gr,ct({},d)),Object(o.createElement)(Gr,ct({},f)),Object(o.createElement)(Gr,ct({},y)),Object(o.createElement)(Gr,ct({},h))))}var li,ui=d.default.div(li||(li=ft(["\n  height: 250px;\n  overflow: auto;\n"],["\n  height: 250px;\n  overflow: auto;\n"])));function si(e){var t=e.topicStyle,n=e.setTopicStyle,r=t.contentStyle,i=void 0===r?{}:r,a=t.linkStyle,c=void 0===a?{}:a,l=t.subLinkStyle,u=function(e){n({contentStyle:e})},s={contentStyle:i,setContentStyle:u},p={showLinkStyle:!1,linkStyle:c,subLinkStyle:void 0===l?{}:l,setLinkStyle:function(e){n({linkStyle:e})},setSubLinkStyle:function(e){n({subLinkStyle:e})}};return Object(o.createElement)(ui,null,Object(o.createElement)(Qr,ct({},s)),Object(o.createElement)(ci,ct({},s)),Object(o.createElement)(ni,ct({},s)),Object(o.createElement)(Vr,null,Object(o.createElement)(Pr,null,"Background"),Object(o.createElement)(Hr,{color:i.background,handleColorChange:function(e){u({background:e})}})),Object(o.createElement)(ti,ct({},p)))}var pi="normal";function di(e){var t,n=pt(Object(o.useState)(!1),2),r=(n[0],n[1],pt(Object(o.useState)(!1),2)),i=r[0],a=r[1],c=e.model,l=e.controller,u=c.config.theme,s=u.rootTopic,p=u.primaryTopic,d=u.normalTopic,f=function(t){l.run("operation",ct(ct({},e),{opType:ne,theme:Object(rt.clone)(t)}))},y=(t=function(e){f(Object(rt.merge)(u,{randomColor:e}))},function(e){return t(e.target.checked)}),m={topicStyle:s,setTopicStyle:function(e){f(Object(rt.merge)(u,{rootTopic:e}))}},g=Object(o.createElement)(si,ct({},m)),b={topicStyle:p,setTopicStyle:function(e){f(Object(rt.merge)(u,{primaryTopic:e}))}},v=Object(o.createElement)(si,ct({},b)),x={topicStyle:d,setTopicStyle:function(e){f(Object(rt.merge)(u,{normalTopic:e}))}},T=Object(o.createElement)(si,ct({},x)),O={id:pi,handleTabIdChange:function(e){pi=e}},E=Object(o.createElement)(Nr,null,Object(o.createElement)(h.w,ct({},O),Object(o.createElement)(h.v,{id:"normal",title:"NormalTopic",panel:T}),Object(o.createElement)(h.v,{id:"primary",title:"PrimaryTopic",panel:v}),Object(o.createElement)(h.v,{id:"root",title:"RootTopic",panel:g}))),k={isOpen:i,onClose:function(e){a(!1)}},w=Object(o.createElement)(h.a,ct({},k),Object(o.createElement)("p",null,"File format error"));return Object(o.createElement)(Wt,null,Object(o.createElement)(Vr,null,Object(o.createElement)(Pr,null,"Global"),Object(o.createElement)(Fr,null,Object(o.createElement)(zr,null,"Background:"),Object(o.createElement)(Hr,{color:u.background,handleColorChange:function(e){f(Object(rt.merge)(u,{background:e}))}}),Object(o.createElement)(zr,null,"Highlight:"),Object(o.createElement)(Hr,{color:u.highlightColor,handleColorChange:function(e){f(Object(rt.merge)(u,{highlightColor:e}))}}),Object(o.createElement)(zr,null,"Random Color:"),Object(o.createElement)(Ft,{checked:u.randomColor,onChange:y}))),E,Object(o.createElement)(Vr,null,Object(o.createElement)(Wr,{title:"Export Theme",handleClick:function(e){Cn(JSON.stringify(u),"blink-mind-theme.json")}}),Object(o.createElement)(Wr,{title:"Import Theme",handleClick:function(e){Sn(".json,.txt").then((function(e){var t,n=JSON.parse(e);null!=(t=n).name&&null!=t.background&&null!=t.highlightColor?f(n):a(!0)}))}})),w)}function fi(){var e="topic-style",t=function(t){e=t};return{renderRightTopPanel:function(n){var r=ct(ct({},n),{key:"right-top-panel",selectedTabId:e,handleTabIdChange:t});return Object(o.createElement)(Sr,ct({},r))},renderRightTopPanelTabs:function(e){var t=e.controller;return[t.run("renderTopicStyleEditor",e),t.run("renderThemeEditor",e)]},renderTopicStyleEditor:function(e){var t={id:"topic-style",key:"topic-style",title:"TopicStyle",panel:Object(o.createElement)(ii,ct({},e))};return Object(o.createElement)(h.v,ct({},t))},renderThemeEditor:function(e){var t={id:"theme-editor",key:"theme-editor",title:"Theme",panel:Object(o.createElement)(di,ct({},e))};return Object(o.createElement)(h.v,ct({},t))}}}var yi=y()("plugin:utils");function hi(){var e=new Map,t=new Map;return{addTempValueChangeListener:function(e){var n=e.key,o=e.listener;t.has(n)||t.set(n,[]),t.get(n).push(o)},removeTempValueChangeListener:function(e){var n=e.key,o=e.listener;t.has(n)&&(t[n]=t.get(n).filter((function(e){return e!==o})))},getTempValue:function(t){var n=t.key;return yi("getTempValue",n),e.get(n)},setTempValue:function(n){var o,r,i=n.key,a=n.value;if(yi("setTempValue",i),e.set(i,a),t.has(i)){var c=t.get(i);try{for(var l=st(c),u=l.next();!u.done;u=l.next()){(0,u.value)(a)}}catch(s){o={error:s}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(o)throw o.error}}}},deleteTempValue:function(t){var n=t.key;yi("deleteTempValue",n);var o=e.get(n);return e.delete(n),o}}}var mi=y()("plugin:StylePlugin");function gi(){var e=new Map,t=0;return{getTopicStyle:function(e){var t=e.controller;return{contentStyle:t.run("getTopicContentStyle",e),linkStyle:t.run("getLinkStyle",e),subLinkStyle:t.run("getSubLinkStyle",e)}},getTopicContentStyle:function(e){var t=e.topicKey,n=e.model,o=e.controller;mi("getTopicContentStyle:",t,n);var r,i=n.getTopicVisualLevel(t),a=n.config.theme;if(r=i===_?a.rootTopic:i===M?a.primaryTopic:a.normalTopic,r=ct(ct({},a.contentStyle),r.contentStyle),a.randomColor){var c=o.run("getRandomColor",e);r=ct(ct({},r),{background:c,borderColor:c,subLinkStyle:ct(ct({},r.subLinkStyle),{lineColor:c})})}var l=n.getTopic(t);if(!l.style)return r;var u=JSON.parse(l.style);return ct(ct({},r),u.contentStyle)},getLinkStyle:function(e){var t=e.topicKey,n=e.model,o=e.controller;mi("getLinkStyle",t);var r,i=n.getTopicVisualLevel(t),a=n.config.theme,c=a.linkStyle;r=i===_?a.rootTopic.linkStyle:i===M?a.primaryTopic.linkStyle:a.normalTopic.linkStyle,c=ct(ct({},c),r);var l=n.getTopic(t);if(null!=l.parentKey){var u=o.run("getSubLinkStyle",ct(ct({},e),{topicKey:l.parentKey}));c=ct(ct({},c),u)}if(!l.style)return c;var s=JSON.parse(l.style);return ct(ct({},c),s.linkStyle)},getSubLinkStyle:function(e){var t=e.topicKey,n=e.model,o=e.controller;mi("getLinkStyle",t);var r,i=n.getTopicVisualLevel(t),a=n.config.theme,c=a.linkStyle;r=i===_?a.rootTopic.subLinkStyle:i===M?a.primaryTopic.subLinkStyle:a.normalTopic.subLinkStyle,c=ct(ct({},c),r);var l=n.getTopic(t);if(a.randomColor){var u=o.run("getRandomColor",e);mi(u),c=ct(ct({},c),{lineColor:u})}if(!l.style)return c;var s=JSON.parse(l.style);return ct(ct({},c),s.subLinkStyle)},setTopicContentStyle:function(e){var t=e.topicKey,n=e.controller,o=e.style,r=e.model.getTopic(t).style,i=r?JSON.parse(r):{},a=ct(ct({},i),{contentStyle:ct(ct({},i.contentStyle),o)});if(!Object(rt.isEqual)(i,a)){var c=JSON.stringify(a);n.run("operation",ct(ct({},e),{opType:te,style:c}))}},setLinkStyle:function(e){var t=e.topicKey,n=e.controller,o=e.linkStyle,r=e.model.getTopic(t).style,i=r?JSON.parse(r):{},a=ct(ct({},i),{linkStyle:ct(ct({},i.linkStyle),o)});if(!Object(rt.isEqual)(i,a)){var c=JSON.stringify(a);n.run("operation",ct(ct({},e),{opType:te,style:c}))}},setSubLinkStyle:function(e){var t=e.topicKey,n=e.controller,o=e.subLinkStyle,r=e.model.getTopic(t).style,i=r?JSON.parse(r):{},a=ct(ct({},i),{subLinkStyle:ct(ct({},i.subLinkStyle),o)});if(!Object(rt.isEqual)(i,a)){var c=JSON.stringify(a);n.run("operation",ct(ct({},e),{opType:te,style:c}))}},getTopicThemeStyle:function(e){var t=e.topicKey,n=e.model,o=n.getTopicVisualLevel(t),r=n.config.theme;return o===_?r.rootTopic:o===M?r.primaryTopic:r.normalTopic},getRandomColor:function(n){var o=n.topicKey;if(e.has(o))return e.get(o);var r=["#00CC99","#FFEE88","#A167A5","#E5F993","#F5C396","#DB995A","#83BCFF","#ED7B84","#739E82","#D3BCC0","#FFA0FD","#EFD3D7","#C6878F"],i=r[++t%r.length];return e.set(o,i),mi("getRandomColor",o,i),i},clearAllCustomStyle:function(e){var t=e.model,n=e.controller,o=t.withMutations((function(e){e.topics.keySeq().forEach((function(t){e.setIn(["topics",t,"style"],null)}))}));n.change(o)}}}function bi(){return[[Or(),hi(),{renderTopicContextMenu:function(e){return Object(o.createElement)(Wn,ct({},e))},customizeTopicContextMenu:function(e){var t=e.topicKey,n=e.model,r=e.controller,i=t===n.editorRootTopicKey;function a(t){return function(n){t.opType&&r.run("operation",ct(ct({},e),{opType:t.opType}))}}return Gn.map((function(e){return i&&!e.rootCanUse?null:Object(o.createElement)(h.p,{key:e.label,icon:an(e.icon),text:e.label,labelElement:Object(o.createElement)("kbd",null,e.shortcut),onClick:a(e)})}))}},fi(),$n()],{getPartTopics:function(e){var t=e.layout,n=e.model,o=e.topicKey,r=n.getTopic(o),i=r.subKeys.size,a=r.subKeys.toArray();switch(t){case j.LEFT_TO_RIGHT:return{R:a};case j.RIGHT_TO_LEFT:return{L:a};case j.LEFT_AND_RIGHT:return{L:a.slice(Math.ceil(i/2),i),R:a.slice(0,Math.ceil(i/2))};case j.TOP_TO_BOTTOM:return{B:a}}},createSubTopics:function(e){var t=e.model,n=e.topicKey,o=e.controller,r=e.topics,i=e.saveRef,a=t.getTopic(n);if(0===r.size||a.collapse)return null;var c=[];return r.forEach((function(t){var n=ct(ct({},e),{topicKey:t,key:t,ref:i(sn(t))});c.push(o.run("renderTopicWidget",n))})),{subTopics:c}},layout:function(e){var t=e.getRef,n=e.model,o=t(dn(n.editorRootTopicKey)),r=t(vn),i=t(xn);o&&o.layout(),r&&r.layout(),i&&i.layout(),function e(o){var r,i;if(o.key!==n.editorRootTopicKey){var a=t(sn(o.key));a&&a.layoutLinks()}if(!o.collapse)try{for(var c=st(o.subKeys),l=c.next();!l.done;l=c.next()){var u=l.value;e(n.getTopic(u))}}catch(s){r={error:s}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}(n.getTopic(n.editorRootTopicKey))},setLayoutDir:function(e){var t=e.layoutDir,n=e.model;e.controller.change(me.setLayoutDir({model:n,layoutDir:t}))},getRelativeRect:function(e){var t=e.element,n=e.controller,o=e.getRef,r=n.run("getZoomFactor",e);return _n(t,o(gn).bigView,r)},getRelativeRectFromViewPort:function(e){var t=e.element,n=e.controller,o=e.getRef,r=n.run("getZoomFactor",e);return _n(t,o(gn).viewBox,r)},getRelativeVectorFromViewPort:function(e){return Mn(e.element,(0,e.getRef)(gn).viewBox)},addZoomFactorChangeEventListener:function(e){e.controller.run("addTempValueChangeListener",ct({key:"ZoomFactor"},e))},removeZoomFactorChangeEventListener:function(e){e.controller.run("removeTempValueChangeListener",ct({key:"ZoomFactor"},e))},setZoomFactor:function(e){var t=e.controller,n=e.zoomFactor;return t.run("setTempValue",{key:"ZoomFactor",value:n})},getZoomFactor:function(e){return e.controller.run("getTempValue",{key:"ZoomFactor"})||1},moveTopicToCenter:function(e){var t=e.getRef,n=e.topicKey,o=e.model;if(o.editorRootTopicKey!==n&&fe(o,n,o.editorRootTopicKey)!==H)throw new Error("moveTopicToCenter error: topicKey "+n+" is not the DESCENDANT of editor root topic");var r=t(pn(n)),i=t(gn),a=i.viewBox;if(!r||!a)throw new Error("moveTopicToCenter error: topic or viewBox is null");var c=Mn(r,a);i.setViewBoxScrollDelta(c[0],c[1])},focusTopicAndMoveToCenter:function(e){var t=e.controller,n=e.topicKey;t.run("operation",ct(ct({},e),{opArray:[{opType:$,topicKey:n,focusMode:N},{opType:J,topicKey:n}],callback:function(){t.run("moveTopicToCenter",ct(ct({},e),{topicKey:n}))}}))}},Hn(),gi(),Ut(),Bn(),{getValue:function(e,t){var n=e.propKey,o=e.controller;switch(n){case On:return 3;case En:return o.run("isOperationEnabled",e);case kn:return o.run("getTopicTitle",e)}return t()}},$e()]}y()("node:Diagram");var vi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.resolveController=Object(b.a)((function(e,n){void 0===e&&(e=[]);var o=n();t.controller=new K({plugins:[e,o],construct:!1,onChange:t.props.onChange})})),t}return at(t,e),t.prototype.getDiagramProps=function(){return this.controller.run("getDiagramProps")},t.prototype.openNewModel=function(e){var t=this,n=this.getDiagramProps(),o=n.model,r=n.controller;r.run("deleteRefKey",ct(ct({},n),{topicKey:o.rootTopicKey})),r.run("operation",ct(ct({},n),{opType:J,topicKey:e.focusKey,model:e,callback:function(){var e=t.getDiagramProps(),n=e.model;r.run("moveTopicToCenter",ct(ct({},e),{topicKey:n.focusKey}))}}))},t.prototype.render=function(){var e=this.props.plugins;return this.resolveController(e,bi),this.diagramProps=ct(ct({},this.props),{controller:this.controller}),this.controller.run("renderDiagram",this.diagramProps)},t}(o.Component),xi=n(280),Ti=n.n(xi),Oi=n(152),Ei=n.n(Oi),ki=function(e,t){return(ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function wi(e,t){function n(){this.constructor=e}ki(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ci=function(){return(Ci=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var Si,ji=y()("node:topic-content-editor"),Ki=d.default.div(Si||(Si=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}(["\n  ",";\n"],["\n  ",";\n"])),(function(e){return!e.readOnly&&"\n    // padding: 75px\n    // min-width: 150px\n    // min-height: 150px\n  "})),Ri=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return wi(t,e),t.prototype.initState=function(){e.prototype.initState.call(this);var t=this.props,n=t.controller,o="topic-desc-data-"+t.topicKey,r=this.state.content;n.run("setTempValue",{key:o,value:r})},t.prototype.getCustomizeProps=function(){var e=this.props,t=e.model,n=e.topicKey;return{block:t.getTopic(n).getBlock(I).block,readOnly:t.editingDescKey!==n,getRefKeyFunc:un,placeholder:"write topic notes here"}},t.prototype.onChange=function(e){var t=this.props,n=t.controller,o="topic-desc-data-"+t.topicKey;n.run("setTempValue",{key:o,value:e}),this.setState({content:e})},t}(function(e){function t(t){var n=e.call(this,t)||this;return n.onMouseDown=function(e){e.stopPropagation()},n.onMouseMove=function(e){e.stopPropagation()},n.rootRef=function(e){return function(t){e(t),n.root=t}},n._handleClick=function(e){!n.root.contains(e.target)&&n.onClickOutSide(e)},n.initState(),n}return wi(t,e),t.prototype.initState=function(){this.state={content:this.getContent()}},t.prototype.getContent=function(){return this.getCustomizeProps().block.data},t.prototype.onChange=function(e){this.setState({content:e})},t.prototype.getCustomizeProps=function(){return null},t.prototype.componentDidMount=function(){document.addEventListener("click",this._handleClick)},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this._handleClick)},t.prototype.onClickOutSide=function(e){},t.prototype.render=function(){var e=this.props,t=e.topicKey,n=e.saveRef,r=this.getCustomizeProps(),i=r.readOnly,a=r.getRefKeyFunc,c=r.placeholder;ji("readOnly:",i);var l=i?this.getContent():this.state.content;if(null==l)return null;var u=a(t),s=this.onMouseDown,p=this.onMouseMove,d={editorValue:l,readOnly:i,onChange:this.onChange.bind(this),placeholder:c},f={key:u,ref:this.rootRef(n(u)),readOnly:i,onMouseDown:s,onMouseMove:p};return Object(o.createElement)(Ki,Ci({},f),Object(o.createElement)(Ti.a,Ci({},d)))},t}(St)),Di=new Ei.a;var Li=function(){return{renderTopicDescEditor:function(e){return Object(o.createElement)(Ri,Ci({},e))},isBlockEmpty:function(e,t){var n=e.block,o=e.controller;return n.type===P||n.type===I?null==n.data||""===o.run("serializeBlockData",e):t()},serializeBlockData:function(e,t){var n=e.block;return n.type===I?"string"===typeof n.data?n.data:Di.serialize(n.data):t()}}},_i=function(){return(_i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Mi=y()("plugin:json-serializer");var Pi={name:"default",randomColor:!0,background:"rgb(57,60,65)",highlightColor:"#50C9CE",marginH:60,marginV:20,contentStyle:{lineHeight:"1.5",fontSize:"16px"},linkStyle:{lineRadius:5,lineType:"curve",lineWidth:"3px"},rootTopic:{contentStyle:{fontSize:"36px"},subLinkStyle:{lineType:"curve",lineWidth:"3px"}},primaryTopic:{contentStyle:{fontSize:"24px"},subLinkStyle:{lineType:"curve",lineWidth:"3px"}},normalTopic:{subLinkStyle:{lineType:"curve",lineWidth:"3px"}}},Ii={name:"theme1",randomColor:!1,background:"rgb(250,245,205)",highlightColor:"#50C9CE",marginH:50,marginV:30,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5},rootTopic:{contentStyle:{background:"rgb(221, 170, 68)",color:"#fff",fontSize:"34px",borderRadius:"5px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"rgb(221, 170, 68)"}},primaryTopic:{contentStyle:{background:"#e8eaec",borderWidth:"2px",borderStyle:"solid",borderColor:"rgb(221, 170, 68)",borderRadius:"5px",fontSize:"17px",padding:"10px 15px 10px 15px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"rgb(221, 170, 68)"}},normalTopic:{contentStyle:{background:"#fff",border:"1px solid #e8eaec",borderRadius:"20px",color:"rgb(187, 136, 34)",fontSize:"13px",padding:"4px 10px"},subLinkStyle:{lineType:"round",lineRadius:5,lineWidth:"1px",lineColor:"rgb(187, 136, 34)"}}},Ni={name:"theme2",randomColor:!1,background:"#f8f8f8",highlightColor:"#50C9CE",marginH:45,marginV:10,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5},rootTopic:{contentStyle:{background:"#50C18A",color:"#fff",fontSize:"34px",borderRadius:"5px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"#43a9ff"}},primaryTopic:{contentStyle:{background:"#ffffff",borderWidth:"1px",borderStyle:"solid",borderColor:"rgb(221, 170, 68)",borderRadius:"5px",color:"rgb(103,103,103)",fontSize:"14px",padding:"6px 10px 5px 10px"},subLinkStyle:{lineType:"round",lineRadius:5,lineWidth:"2px",lineColor:"#43a9ff"}},normalTopic:{contentStyle:{background:"#fff",borderRadius:"5px",color:"rgb(103,103,103)",fontSize:"13px",padding:"3px 9px 4px",boxShadow:"1px 1px 1px #ccc"},subLinkStyle:{lineType:"round",lineRadius:5,lineWidth:"1px",lineColor:"#43a9ff"}}},zi={name:"theme3",randomColor:!1,background:"#A9DEF9",highlightColor:"#50C9CE",marginH:50,marginV:20,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5},rootTopic:{contentStyle:{background:"#FF99C8",color:"#fff",fontSize:"34px",borderRadius:"5px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"#43a9ff"}},primaryTopic:{contentStyle:{background:"#FCF6BD",borderWidth:"1px",borderStyle:"solid",borderColor:"#E4C1F9",borderRadius:"5px",color:"rgb(103,103,103)",fontSize:"14px",padding:"6px 10px 5px 10px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"#43a9ff"}},normalTopic:{contentStyle:{background:"#E4FDE1",borderRadius:"5px",color:"rgb(103,103,103)",fontSize:"13px",padding:"3px 9px 4px",boxShadow:"1px 1px 1px #ccc"},subLinkStyle:{lineType:"round",lineRadius:5,lineWidth:"1px",lineColor:"#43a9ff"}}},Fi={name:"theme3",randomColor:!1,background:"#CCFBFE",highlightColor:"#50C9CE",marginH:50,marginV:20,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5},rootTopic:{contentStyle:{background:"#CD8987",color:"#fff",fontSize:"34px",borderRadius:"5px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"2px",lineColor:"#43a9ff"}},primaryTopic:{contentStyle:{background:"#CDACA1",borderWidth:"1px",borderStyle:"solid",borderColor:"#E4C1F9",borderRadius:"5px",color:"rgb(103,103,103)",fontSize:"14px",padding:"6px 10px 5px 10px"},subLinkStyle:{lineType:"line",lineWidth:"2px",lineColor:"#43a9ff"}},normalTopic:{contentStyle:{background:"#CDCACC",borderRadius:"5px",color:"rgb(103,103,103)",fontSize:"13px",padding:"3px 9px 4px",boxShadow:"1px 1px 1px #ccc"},subLinkStyle:{lineType:"line",lineRadius:5,lineWidth:"1px",lineColor:"#43a9ff"}}};var Ai=n(286),Bi=n(20),Vi=n(16),Hi=(n(847),n(29)),Wi=n(63),Gi=n(50),Ui=function(e,t){return(Ui=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Zi(e,t){function n(){this.constructor=e}Ui(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Yi=function(){return(Yi=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function Ji(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function qi(e){var t=e.controller,n=e.model,r=e.topicKey,i=n.focusKey===r&&"FOCUS_MODE_EDITING_TOPOLOGY"===n.focusMode,a=n.getTopic(r).getBlock("TOPOLOGY").block;if(!i&&!a)return null;var c={className:rn("topology"),onClick:function(n){n.stopPropagation(),t.run("operation",Yi(Yi({},e),{opType:"OP_TYPE_START_EDITING_TOPOLOGY"}))},tabIndex:-1};return Object(o.createElement)(Vt,Yi({},c))}var Xi,Qi,$i,ea,ta,na,oa,ra,ia,aa,ca=[{group:"Basic",children:[{name:"rectangle",icon:"icon-rect",data:{text:"Topology",rect:{width:100,height:100},paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,name:"rectangle",icon:"\ue64d",iconFamily:"topology",iconColor:"#2f54eb"}},{name:"rectangle",icon:"icon-rectangle",data:{text:"rectangle",rect:{width:200,height:50},paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,borderRadius:.1,name:"rectangle"}},{name:"circle",icon:"icon-circle",data:{text:"circle",rect:{width:100,height:100},name:"circle",textMaxLine:1}},{name:"triangle",icon:"icon-triangle",data:{text:"triangle",rect:{width:100,height:100},name:"triangle"}},{name:"diamond",icon:"icon-diamond",data:{text:"diamond",rect:{width:100,height:100},name:"diamond"}},{name:"pentagon",icon:"icon-pentagon",data:{text:"pentagon",rect:{width:100,height:100},name:"pentagon"}},{name:"hexagon",icon:"icon-hexagon",data:{text:"hexagon",rect:{width:100,height:100},paddingTop:10,paddingBottom:10,name:"hexagon"}},{name:"pentagram",icon:"icon-pentagram",data:{text:"pentagram",rect:{width:100,height:100},name:"pentagram"}},{name:"left arrow",icon:"icon-arrow-left",data:{text:"",rect:{width:200,height:100},name:"leftArrow"}},{name:"right arrow",icon:"icon-arrow-right",data:{text:"",rect:{width:200,height:100},name:"rightArrow"}},{name:"bidirectional arrow",icon:"icon-twoway-arrow",data:{text:"",rect:{width:200,height:100},name:"twowayArrow"}},{name:"line",icon:"icon-line",data:{text:"line",rect:{width:100,height:100},name:"line"}},{name:"cloud",icon:"icon-cloud",data:{text:"cloud",rect:{width:100,height:100},name:"cloud"}},{name:"message",icon:"icon-msg",data:{text:"message",rect:{width:100,height:100},paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,name:"message"}},{name:"file",icon:"icon-file",data:{text:"file",rect:{width:80,height:100},paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,name:"file"}},{name:"text",icon:"icon-text",data:{text:"text",rect:{width:160,height:30},name:"text"}},{name:"image",icon:"icon-image",data:{text:"",rect:{width:100,height:100},name:"image",image:"/assets/img/logo.png"}},{name:"cube",icon:"icon-cube",data:{rect:{width:50,height:70},is3D:!0,z:10,zRotate:15,fillStyle:"#ddd",name:"cube",icon:"\ue63c",iconFamily:"topology",iconColor:"#777",iconSize:30}},{name:"people",icon:"icon-people",data:{rect:{width:70,height:100},name:"people"}},{name:"multi media",icon:"icon-pc",data:{text:"multi media",rect:{width:200,height:200},paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,name:"div"}}]},{group:"Flow Graph",children:[{name:"start/end",icon:"icon-flow-start",data:{text:"start",rect:{width:120,height:40},borderRadius:.5,name:"rectangle"}},{name:"flow",icon:"icon-rectangle",data:{text:"flow",rect:{width:120,height:40},name:"rectangle"}},{name:"judgement",icon:"icon-diamond",data:{text:"judgement",rect:{width:120,height:60},name:"diamond"}},{name:"data",icon:"icon-flow-data",data:{text:"data",rect:{width:120,height:50},name:"flowData"}},{name:"prepare",icon:"icon-flow-ready",data:{text:"prepare",rect:{width:120,height:50},name:"hexagon"}},{name:"sub flow",icon:"icon-flow-subprocess",data:{text:"sub flow",rect:{width:120,height:50},name:"flowSubprocess"}},{name:"database",icon:"icon-db",data:{text:"database",rect:{width:80,height:120},name:"flowDb"}},{name:"document",icon:"icon-flow-document",data:{text:"document",rect:{width:120,height:100},name:"flowDocument"}},{name:"internal storage",icon:"icon-internal-storage",data:{text:"internal storage",rect:{width:120,height:80},name:"flowInternalStorage"}},{name:"external storage",icon:"icon-extern-storage",data:{text:"external storage",rect:{width:120,height:80},name:"flowExternStorage"}},{name:"queue",icon:"icon-flow-queue",data:{text:"queue",rect:{width:100,height:100},name:"flowQueue"}},{name:"input manually",icon:"icon-flow-manually",data:{text:"input manually",rect:{width:120,height:80},name:"flowManually"}},{name:"display",icon:"icon-flow-display",data:{text:"display",rect:{width:120,height:80},name:"flowDisplay"}},{name:"parallel",icon:"icon-flow-parallel",data:{text:"parallel",rect:{width:120,height:50},name:"flowParallel"}},{name:"comment",icon:"icon-flow-comment",data:{text:"comment",rect:{width:100,height:100},name:"flowComment"}}]},{group:"Activity Diagram",children:[{name:"start",icon:"icon-inital",data:{text:"",rect:{width:30,height:30},name:"circle",fillStyle:"#555",strokeStyle:"transparent"}},{name:"end",icon:"icon-final",data:{text:"",rect:{width:30,height:30},name:"activityFinal"}},{name:"action",icon:"icon-action",data:{text:"action",rect:{width:120,height:50},borderRadius:.25,name:"rectangle"}},{name:"decision/merge",icon:"icon-diamond",data:{text:"\u51b3\u7b56",rect:{width:120,height:50},name:"diamond"}},{name:"vertical swimming lane",icon:"icon-swimlane-v",data:{text:"vertical swimming lane",rect:{width:200,height:500},name:"swimlaneV"}},{name:"horizontal swimming lane",icon:"icon-swimlane-h",data:{text:"horizontal swimming lane",rect:{width:500,height:200},name:"swimlaneH"}},{name:"vertical fork/merge",icon:"icon-fork-v",data:{text:"",rect:{width:10,height:150},name:"forkV",fillStyle:"#555",strokeStyle:"transparent"}},{name:"horizontal fork/merge",icon:"icon-fork",data:{text:"",rect:{width:150,height:10},name:"forkH",fillStyle:"#555",strokeStyle:"transparent"}}]},{group:"Sequence Diagram && Class Diagram",children:[{name:"lifeline",icon:"icon-lifeline",data:{text:"lifeline",rect:{width:150,height:400},name:"lifeline"}},{name:"activation",icon:"icon-focus",data:{text:"",rect:{width:12,height:200},name:"sequenceFocus"}},{name:"simple class",icon:"icon-simple-class",data:{text:"Topolgoy",rect:{width:270,height:200},paddingTop:40,font:{fontFamily:"Arial",color:"#222",fontWeight:"bold"},fillStyle:"#ffffba",strokeStyle:"#7e1212",name:"simpleClass",children:[{text:"- name: string\n+ setName(name: string): void",name:"text",paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rectInParent:{x:0,y:0,width:"100%",height:"100%",rotate:0},font:{fontFamily:"Arial",color:"#222",textAlign:"left",textBaseline:"top"}}]}},{name:"class",icon:"icon-class",data:{text:"Topolgoy",rect:{width:270,height:200},paddingTop:40,font:{fontFamily:"Arial",color:"#222",fontWeight:"bold"},fillStyle:"#ffffba",strokeStyle:"#7e1212",name:"interfaceClass",children:[{text:"- name: string",name:"text",paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rectInParent:{x:0,y:0,width:"100%",height:"50%",rotate:0},font:{fontFamily:"Arial",color:"#222",textAlign:"left",textBaseline:"top"}},{text:"+ setName(name: string): void",name:"text",paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rectInParent:{x:0,y:"50%",width:"100%",height:"50%",rotate:0},font:{fontFamily:"Arial",color:"#222",textAlign:"left",textBaseline:"top"}}]}}]}],la=d.default.div(Xi||(Xi=Ji(["\n  position: relative;\n  display: flex;\n  width: 100%;\n  height: 100%;\n"],["\n  position: relative;\n  display: flex;\n  width: 100%;\n  height: 100%;\n"]))),ua=d.default.div(Qi||(Qi=Ji(["\n  flex: 1;\n  width: initial;\n  position: relative;\n  overflow: auto;\n  background: #fff;\n"],["\n  flex: 1;\n  width: initial;\n  position: relative;\n  overflow: auto;\n  background: #fff;\n"]))),sa=d.default.div($i||($i=Ji(["\n  flex-shrink: 0;\n  width: 1.75rem;\n  background-color: #f8f8f8;\n  border-right: 1px solid #d9d9d9;\n  overflow-y: auto;\n"],["\n  flex-shrink: 0;\n  width: 1.75rem;\n  background-color: #f8f8f8;\n  border-right: 1px solid #d9d9d9;\n  overflow-y: auto;\n"]))),pa=d.default.div(ea||(ea=Ji(["\n  color: #0d1a26;\n  font-weight: 600;\n  font-size: 0.12rem;\n  padding: 0.05rem 0.1rem;\n  margin-top: 0.08rem;\n  border-bottom: 1px solid #ddd;\n\n  &:first-child {\n    border-top: none;\n  }\n"],["\n  color: #0d1a26;\n  font-weight: 600;\n  font-size: 0.12rem;\n  padding: 0.05rem 0.1rem;\n  margin-top: 0.08rem;\n  border-bottom: 1px solid #ddd;\n\n  &:first-child {\n    border-top: none;\n  }\n"]))),da=d.default.div(ta||(ta=Ji(["\n  padding: 0.1rem 0;\n  a {\n    display: inline-block;\n    color: @text-color;\n    line-height: 1;\n    width: 0.4rem;\n    height: 0.4rem;\n    text-align: center;\n    text-decoration: none !important;\n\n    .iconfont {\n      font-size: 0.24rem;\n    }\n  }\n"],["\n  padding: 0.1rem 0;\n  a {\n    display: inline-block;\n    color: @text-color;\n    line-height: 1;\n    width: 0.4rem;\n    height: 0.4rem;\n    text-align: center;\n    text-decoration: none !important;\n\n    .iconfont {\n      font-size: 0.24rem;\n    }\n  }\n"]))),fa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={id:"",data:null,toolsConfig:ca,iconfont:{fontSize:"0.24rem"}},t.canvasOptions={},t.handleContextMenu=function(e){e.preventDefault(),e.stopPropagation()},t.onMessage=function(e,n){var o=(0,t.props.getRef)("TOPOLOGY_DIAGRAM_UTIL");switch(e){case"resize":case"scale":case"locked":t.topology&&o&&o.setCanvasData(t.topology.data)}},t}return Zi(t,e),t.prototype.canvasRegister=function(){Object(Bi.registerNode)("flowData",Vi.flowData,Vi.flowDataAnchors,Vi.flowDataIconRect,Vi.flowDataTextRect),Object(Bi.registerNode)("flowSubprocess",Vi.flowSubprocess,null,Vi.flowSubprocessIconRect,Vi.flowSubprocessTextRect),Object(Bi.registerNode)("flowDb",Vi.flowDb,null,Vi.flowDbIconRect,Vi.flowDbTextRect),Object(Bi.registerNode)("flowDocument",Vi.flowDocument,Vi.flowDocumentAnchors,Vi.flowDocumentIconRect,Vi.flowDocumentTextRect),Object(Bi.registerNode)("flowInternalStorage",Vi.flowInternalStorage,null,Vi.flowInternalStorageIconRect,Vi.flowInternalStorageTextRect),Object(Bi.registerNode)("flowExternStorage",Vi.flowExternStorage,Vi.flowExternStorageAnchors,Vi.flowExternStorageIconRect,Vi.flowExternStorageTextRect),Object(Bi.registerNode)("flowQueue",Vi.flowQueue,null,Vi.flowQueueIconRect,Vi.flowQueueTextRect),Object(Bi.registerNode)("flowManually",Vi.flowManually,Vi.flowManuallyAnchors,Vi.flowManuallyIconRect,Vi.flowManuallyTextRect),Object(Bi.registerNode)("flowDisplay",Vi.flowDisplay,Vi.flowDisplayAnchors,Vi.flowDisplayIconRect,Vi.flowDisplayTextRect),Object(Bi.registerNode)("flowParallel",Vi.flowParallel,Vi.flowParallelAnchors,null,null),Object(Bi.registerNode)("flowComment",Vi.flowComment,Vi.flowCommentAnchors,null,null),Object(Bi.registerNode)("activityFinal",Hi.activityFinal,null,Hi.activityFinalIconRect,Hi.activityFinalTextRect),Object(Bi.registerNode)("swimlaneV",Hi.swimlaneV,null,Hi.swimlaneVIconRect,Hi.swimlaneVTextRect),Object(Bi.registerNode)("swimlaneH",Hi.swimlaneH,null,Hi.swimlaneHIconRect,Hi.swimlaneHTextRect),Object(Bi.registerNode)("forkH",Hi.fork,Hi.forkHAnchors,Hi.forkIconRect,Hi.forkTextRect),Object(Bi.registerNode)("forkV",Hi.fork,Hi.forkVAnchors,Hi.forkIconRect,Hi.forkTextRect),Object(Bi.registerNode)("simpleClass",Wi.simpleClass,null,Wi.simpleClassIconRect,Wi.simpleClassTextRect),Object(Bi.registerNode)("interfaceClass",Wi.interfaceClass,null,Wi.interfaceClassIconRect,Wi.interfaceClassTextRect),Object(Bi.registerNode)("lifeline",Gi.lifeline,Gi.lifelineAnchors,Gi.lifelineIconRect,Gi.lifelineTextRect),Object(Bi.registerNode)("sequenceFocus",Gi.sequenceFocus,Gi.sequenceFocusAnchors,Gi.sequenceFocusIconRect,Gi.sequenceFocusTextRect)},t.prototype.componentDidMount=function(){this.canvasRegister(),this.canvasOptions.on=this.onMessage,this.topology=new Ai.Topology("topology-canvas",this.canvasOptions),this.openData()},t.prototype.componentDidUpdate=function(){this.openData()},t.prototype.openData=function(){var e=this.props,t=e.model,n=e.topicKey,o=t.getTopic(n).getBlock("TOPOLOGY").block;o&&o.data&&""!==o.data&&(this.setState({data:o.data}),this.topology.open(o.data))},t.prototype.onDrag=function(e,t){e.dataTransfer.setData("Text",JSON.stringify(t.data))},t.prototype.renderTools=function(){var e=this;return Object(o.createElement)(sa,null,this.state.toolsConfig.map((function(t,n){return Object(o.createElement)("div",{key:n},Object(o.createElement)(pa,null,t.group),Object(o.createElement)(da,null,t.children.map((function(t,n){return Object(o.createElement)("a",{key:n,title:t.name,draggable:!0,onDragStart:function(n){e.onDrag(n,t)}},Object(o.createElement)("i",{className:"iconfont "+t.icon,style:e.state.iconfont}))}))))})))},t.prototype.render=function(){return Object(o.createElement)(la,null,this.renderTools(),Object(o.createElement)(ua,{id:"topology-canvas",onContextMenu:this.handleContextMenu}))},t}(St),ya=d.default.div(na||(na=Ji(["\n  position: absolute;\n  background: white;\n  right: 30px;\n  bottom: 20px;\n  border-radius: 2px;\n  z-index: 3;\n  display: flex;\n  flex-direction: row;\n  user-select: none;\n"],["\n  position: absolute;\n  background: white;\n  right: 30px;\n  bottom: 20px;\n  border-radius: 2px;\n  z-index: 3;\n  display: flex;\n  flex-direction: row;\n  user-select: none;\n"]))),ha=Object(d.default)(zt)(oa||(oa=Ji(["\n  margin: 10px;\n"],["\n  margin: 10px;\n"]))),ma=function(e){return Object(o.createElement)(h.x,{content:e.tooltip,position:g.a.TOP,className:m.a.ICON},Object(o.createElement)(ha,{onClick:e.onClick},e.children))},ga=d.default.span(ra||(ra=Ji(["\n  display: inline-block;\n  width: 80px;\n  height: 18px;\n"],["\n  display: inline-block;\n  width: 80px;\n  height: 18px;\n"]))),ba=function(e){function t(t){var n=e.call(this,t)||this;return n.setCanvasData=function(e){n.setState({canvasData:e})},n.onClickResetZoom=function(e){n.getTopology().scaleTo(1)},n.state={deleteConfirm:!1,canvasData:null},n}return Zi(t,e),t.prototype.getTopology=function(){return(0,this.props.getRef)("TOPOLOGY_DIAGRAM").topology},t.prototype.render=function(){var e=this,t=this.props,n=t.controller,r={isOpen:this.state.deleteConfirm,cancelButtonText:"cancel",onConfirm:function(e){n.run("operation",Yi(Yi({},t),{opType:re,blockType:"TOPOLOGY"}))},onCancel:function(t){e.setState({deleteConfirm:!1})},onClose:function(t){e.setState({deleteConfirm:!1})}},i=this.state.canvasData,a=i?i.scale:1;return Object(o.createElement)(ya,null,Object(o.createElement)(ma,{onClick:this.onClickResetZoom,tooltip:"reset zoom"},Object(o.createElement)(ga,null,"zoom:"+Math.floor(100*a)+"%")),Object(o.createElement)(ma,{onClick:function(t){e.setState({deleteConfirm:!0})},tooltip:"delete this diagram"},an(nn)),Object(o.createElement)(h.a,Yi({},r),Object(o.createElement)("p",null,"Are you confirm to delete this topology diagram?")))},t}(o.Component),va=d.default.div(ia||(ia=Ji(["\n  position: relative;\n  overflow: auto;\n  padding: 0px 0px 0px 5px;\n  background: #88888850;\n  height: 100%;\n"],["\n  position: relative;\n  overflow: auto;\n  padding: 0px 0px 0px 5px;\n  background: #88888850;\n  height: 100%;\n"]))),xa=d.default.span(aa||(aa=Ji(["\n  padding: 0px 20px;\n"],["\n  padding: 0px 20px;\n"])));function Ta(e){var t=e.controller,n=e.topicKey,r=e.getRef,i=e.saveRef,a=Yi(Yi({},e),{ref:i("TOPOLOGY_DIAGRAM")}),c=Yi(Yi({},e),{ref:i("TOPOLOGY_DIAGRAM_UTIL")});return Object(o.createElement)(h.i,{title:Object(o.createElement)(xa,null,"Topology Diagram Editor"),icon:an("topology"),isOpen:!0,hasBackdrop:!0,backdropClassName:"backdrop",backdropProps:{onMouseDown:wn},canOutsideClickClose:!1,isCloseButtonShown:!0,onClose:function(o){o.stopPropagation();var i=r("TOPOLOGY_DIAGRAM").topology.data;t.run("operation",Yi(Yi({},e),{opType:oe,topicKey:n,blockType:"TOPOLOGY",data:i,focusMode:N}))},size:"100%"},Object(o.createElement)(va,{onClick:wn,onDoubleClick:wn},Object(o.createElement)(fa,Yi({},a)),Object(o.createElement)(ba,Yi({},c))))}function Oa(e){var t=e.model,n=e.topicKey,o=t.getTopic(n).getBlock("TOPOLOGY").block;return null!=o&&null!=o.data||(t=me.setBlockData({model:t,topicKey:n,blockType:"TOPOLOGY",data:""})),t=me.focusTopic({model:t,topicKey:n,focusMode:"FOCUS_MODE_EDITING_TOPOLOGY"})}var Ea=function(){return{renderTopicBlock:function(e,t){var n=e.controller;return"TOPOLOGY"===e.block.type?n.run("renderTopicBlockTopology",e):t()},renderTopicBlockTopology:function(e){return Object(o.createElement)(qi,Yi({},e))},renderDrawer:function(e,t){var n=e.model;if("FOCUS_MODE_EDITING_TOPOLOGY"===n.focusMode){var r=Yi(Yi({},e),{topicKey:n.focusKey,key:"topology-drawer"});return Object(o.createElement)(Ta,Yi({},r))}return t()},customizeTopicContextMenu:function(e,t){var n=e.controller;return Object(o.createElement)(o.Fragment,null,t(),Object(o.createElement)(h.o,null),Object(o.createElement)(h.p,{icon:an("topology"),text:"Edit Topology Diagram",onClick:function(t){n.run("operation",Yi(Yi({},e),{opType:"OP_TYPE_START_EDITING_TOPOLOGY"}))}}))},getOpMap:function(e,t){var n=t();return n.set("OP_TYPE_START_EDITING_TOPOLOGY",Oa),n}}},ka=n(876),wa=function(e,t){return(wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Ca(e,t){function n(){this.constructor=e}wa(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Sa=function(){return(Sa=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function ja(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}function Ka(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Ra,Da,La=Object(d.default)(Ht)(Ra||(Ra=Ka(["\n  position: absolute;\n  left: calc(50% - 150px);\n  top: 30px;\n  width: 300px;\n  background: white;\n  padding: 10px;\n  user-select: none;\n"],["\n  position: absolute;\n  left: calc(50% - 150px);\n  top: 30px;\n  width: 300px;\n  background: white;\n  padding: 10px;\n  user-select: none;\n"]))),_a=d.default.div(Da||(Da=Ka(["\n  margin-bottom: 10px;\n"],["\n  margin-bottom: 10px;\n"])));function Ma(e){var t=e.zIndex,n=e.controller,r=e.topicKey;return Object(o.createElement)(La,{zIndex:t},Object(o.createElement)(_a,null,"Please select the topics you want to reference. After selection, click the confirm button."),Object(o.createElement)(Mt,{justifyContent:"space-around"},Object(o.createElement)(h.d,{onClick:function(t){var o=n.run("getSelectedReferenceKeys",e);n.run("enableOperation",e),n.run("operation",Sa(Sa({},e),{opArray:[{opType:"OP_TYPE_SET_REFERENCE_TOPICS",topicKey:r,referenceKeys:o},{opType:$,topicKey:r,focusMode:N}]})),n.run("clearSelectedReferenceKeys",e)}},"Confirm"),Object(o.createElement)(h.d,{onClick:function(t){n.run("clearSelectedReferenceKeys",e),n.run("enableOperation",e),n.run("operation",Sa(Sa({},e),{opType:ee,focusMode:N}))}},"Cancel")))}var Pa={keyList:Object(x.List)(),dataMap:Object(x.Map)()},Ia=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),Object.defineProperty(t.prototype,"keyList",{get:function(){return this.get("keyList")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataMap",{get:function(){return this.get("dataMap")},enumerable:!0,configurable:!0}),t}(Object(x.Record)(Pa)),Na={reference:Object(x.Map)()},za=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ca(t,e),Object.defineProperty(t.prototype,"reference",{get:function(){return this.get("reference")},enumerable:!0,configurable:!0}),t.prototype.getReferenceKeys=function(e){return this.reference.has(e)?this.reference.get(e).keyList.toArray():[]},t.prototype.getReferencedKeys=function(e){var t=[];return this.reference.forEach((function(n,o){n.keyList.includes(e)&&t.push(o)})),t},t}(Object(x.Record)(Na));function Fa(e){var t=e.model,n=e.topicKey,o=e.referenceKeys,r=t.getExtDataItem("TOPIC_REFERENCE",za),i=r.reference.get(n)||new Ia;return i=i.set("keyList",Object(x.List)(o)),r=r.setIn(["reference",n],i),t=t.setIn(["extData","TOPIC_REFERENCE"],r)}var Aa,Ba,Va,Ha=d.default.div(Aa||(Aa=Ka(["\n  display: flex;\n  width: 380px;\n  margin: 10px;\n  justify-content: center;\n  align-items: center;\n"],["\n  display: flex;\n  width: 380px;\n  margin: 10px;\n  justify-content: center;\n  align-items: center;\n"]))),Wa=d.default.div(Ba||(Ba=Ka(["\n  width: 300px;\n  text-decoration: underline;\n  cursor: pointer;\n"],["\n  width: 300px;\n  text-decoration: underline;\n  cursor: pointer;\n"]))),Ga=d.default.div(Va||(Va=Ka(["\n  width: 80px;\n"],["\n  width: 80px;\n"])));function Ua(e){var t=e.controller,n=e.refKey,r=e.refType,i=e.removeHandler,a=ja(Object(o.useState)(!1),2),c=a[0],l=a[1],u=t.getValue(kn,Sa(Sa({},e),{topicKey:n,maxLength:100})),s={isOpen:c,cancelButtonText:"cancel",onConfirm:function(e){i(e)},onCancel:function(e){l(!1)},onClose:function(e){l(!1)}};return Object(o.createElement)(Ha,null,Object(o.createElement)(Wa,{onClick:function(o){o.stopPropagation(),t.run("focusTopicAndMoveToCenter",Sa(Sa({},e),{topicKey:n}))}},u),Object(o.createElement)(Ga,null,"reference"===r&&Object(o.createElement)(o.Fragment,null,Object(o.createElement)(h.d,{onClick:function(e){l(!0)}},"Remove"),Object(o.createElement)(h.a,Sa({},s),Object(o.createElement)("p",null,"Are you confirm to remove this reference?")))))}var Za,Ya,Ja,qa,Xa,Qa=d.default.div(Za||(Za=Ka([""],[""]))),$a=d.default.div(Ya||(Ya=Ka(["\n  padding: 10px;\n"],["\n  padding: 10px;\n"]))),ec=d.default.div(Ja||(Ja=Ka(["\n  max-height: 200px;\n  overflow: auto;\n"],["\n  max-height: 200px;\n  overflow: auto;\n"]))),tc=d.default.div(qa||(qa=Ka(["\n  font-size: 20px;\n  color: #106ba3;\n"],["\n  font-size: 20px;\n  color: #106ba3;\n"]))),nc=d.default.div(Xa||(Xa=Ka(["\n  text-decoration: underline;\n  color: #106ba3;\n  cursor: pointer;\n"],["\n  text-decoration: underline;\n  color: #106ba3;\n  cursor: pointer;\n"])));function oc(e){var t=e.topicKey,n=e.controller,r=e.model,i=r.extData.get("TOPIC_REFERENCE"),a=i.getReferenceKeys(t),c=0===a.length?null:Object(o.createElement)($a,null,Object(o.createElement)(tc,null,"Reference Topics:"),Object(o.createElement)(ec,null,a.map((function(r){var a,c=Sa(Sa({},e),{key:r,refKey:r,refType:"reference",removeHandler:(a=r,function(o){o.stopPropagation();var r=i.reference.get(t).keyList;n.run("operation",Sa(Sa({},e),{opArray:[{opType:"OP_TYPE_SET_REFERENCE_TOPICS",topicKey:t,focusMode:N,referenceKeys:r.delete(r.indexOf(a)).toArray()}]}))})});return Object(o.createElement)(Ua,Sa({},c))})))),l=i.getReferencedKeys(t),u=0===l.length?null:Object(o.createElement)($a,null,Object(o.createElement)(tc,null,"Referenced Topics:"),Object(o.createElement)(ec,null,l.map((function(t){var n=Sa(Sa({},e),{key:t,refKey:t,refType:"referenced"});return Object(o.createElement)(Ua,Sa({},n))})))),s=r.focusKey!==t&&Object(o.createElement)($a,null,Object(o.createElement)(nc,{onClick:function(t){t.stopPropagation(),n.run("focusTopicAndMoveToCenter",e)}},"Goto Origin Topic"));return Object(o.createElement)(Qa,{onMouseDown:wn},c,u,s)}function rc(e){var t=e.model,n=e.topicKey,r=t.extData.get("TOPIC_REFERENCE")||new za,i=r.reference.get(n),a=[];if(r.reference.forEach((function(e,t){e.keyList.includes(n)&&a.push(t)})),(null==i||0===i.keyList.size)&&0===a.length)return null;var c={className:rn("reference"),tabIndex:-1},l=Object(o.createElement)(Vt,Sa({},c)),u={autoFocus:!1,content:Object(o.createElement)(oc,Sa({},e)),target:l,interactionKind:h.t.CLICK,hoverOpenDelay:500};return Object(o.createElement)(h.s,Sa({},u))}function ic(e){var t=e.topicKey,n=e.selectedTopicKeys,r=n.has(t),i=ja(Object(o.useState)(r),2),a=i[0],c=i[1],l={checked:a,onChange:function(){n.has(t)?n.delete(t):n.add(t),c(!a)}};return Object(o.createElement)(Ft,Sa({},l))}var ac,cc,lc,uc,sc,pc=ka.a.ofType(),dc=Object(d.default)(pc)(ac||(ac=Ka(["\n  top: 20%;\n  left: 25% !important;\n  width: 50% !important;\n"],["\n  top: 20%;\n  left: 25% !important;\n  width: 50% !important;\n"]))),fc=d.default.div(cc||(cc=Ka(["\n  margin: 0 5px;\n  padding: 10px 5px;\n  width: 100%;\n  font-size: 16px;\n  cursor: pointer;\n  &:hover {\n    background: #e3e8ec;\n  }\n"],["\n  margin: 0 5px;\n  padding: 10px 5px;\n  width: 100%;\n  font-size: 16px;\n  cursor: pointer;\n  &:hover {\n    background: #e3e8ec;\n  }\n"]))),yc=Object(d.default)(h.s)(lc||(lc=Ka(["\n  display: block;\n"],["\n  display: block;\n"]))),hc=d.default.div(uc||(uc=Ka(["\n  padding: 10px;\n  font-size: 16px;\n  //max-width: 800px;\n  //max-height: 600px;\n  overflow: auto;\n"],["\n  padding: 10px;\n  font-size: 16px;\n  //max-width: 800px;\n  //max-height: 600px;\n  overflow: auto;\n"]))),mc=d.default.div(sc||(sc=Ka(["\n  white-space: break-spaces;\n"],["\n  white-space: break-spaces;\n"]))),gc={placeholder:"Search"};function bc(e){var t=e.model,n=(e.setSearchWord,e.controller),r=function(t){return function(o){n.run("focusTopicAndMoveToCenter",Sa(Sa({},e),{topicKey:t}))}},i=function(){var o=[];return t.topics.forEach((function(t,r){o.push({key:r,title:n.run("getTopicTitle",Sa(Sa({},e),{topicKey:r}))})})),o}();return Object(o.createElement)(dc,{inputProps:gc,itemListPredicate:function(e,t){return t.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())}))},isOpen:!0,items:i,itemRenderer:function(e,t){var n=e.key,i=e.title,a=i.length>100,c=a?i.substr(0,100)+"...":i,l={key:n,onClick:r(n)},u=Object(o.createElement)(fc,Sa({},l),c),s={key:n,target:u,content:Object(o.createElement)(hc,null,Object(o.createElement)(mc,null,i)),fill:!0,interactionKind:h.t.HOVER_TARGET_ONLY,hoverOpenDelay:1e3};return a?Object(o.createElement)(yc,Sa({},s)):u},onClose:function(){n.run("operation",Sa(Sa({},e),{opType:ee,focusMode:N}))},resetOnSelect:!0})}n(868);function vc(e){return r.a.createElement("div",{className:"bm-toolbar-item ".concat(rn("openfile")),onClick:function(t){var n=e.diagram,o=n.getDiagramProps().controller;Sn(".json,.blinkmind,.bm").then((function(e){var t=JSON.parse(e),r=o.run("deserializeModel",{controller:o,obj:t});n.openNewModel(r)}))}})}function xc(e){var t=[[j.LEFT_AND_RIGHT,"Left And Right","layout-left-and-right"],[j.LEFT_TO_RIGHT,"Only Right","layout-right"],[j.RIGHT_TO_LEFT,"Only Left","layout-left"]];return r.a.createElement("div",{className:tt()("bm-toolbar-item",rn("layout-left-and-right"))},r.a.createElement(h.s,{enforceFocus:!1},r.a.createElement("div",{className:"bm-toolbar-popover-target"}),r.a.createElement(h.n,null,t.map((function(t){return r.a.createElement(h.p,{key:t[1],icon:an(t[2]),text:t[1],onClick:(n=t[0],function(t){var o=e.diagram.getDiagramProps();o.controller.run("setLayoutDir",Object(Ee.a)(Object(Ee.a)({},o),{},{layoutDir:n}))})});var n})))))}var Tc=n(287),Oc=n.n(Tc),Ec=n(288),kc=n.n(Ec),wc=n(289),Cc=n.n(wc),Sc=n(290),jc=n.n(Sc),Kc=n(291),Rc=n.n(Kc);function Dc(e){var t=[["default",Oc.a],["theme1",kc.a],["theme2",Cc.a],["theme3",jc.a],["theme4",Rc.a]];return r.a.createElement("div",{className:tt()("bm-toolbar-item",rn("theme"))},r.a.createElement(h.s,{enforceFocus:!1},r.a.createElement("div",{className:"bm-toolbar-popover-target"}),r.a.createElement("div",{className:"bm-popover-theme"},t.map((function(t){return r.a.createElement("div",{key:t[0],className:"bm-theme-item",onClick:(n=t[0],function(t){var o=e.diagram.getDiagramProps();o.controller.run("setTheme",Object(Ee.a)(Object(Ee.a)({},o),{},{themeKey:n}))})},r.a.createElement("img",{className:"bm-theme-img",src:t[1],alt:t[0]}));var n})))))}function Lc(e){return r.a.createElement("div",{className:tt()("bm-toolbar-item",rn("export"))},r.a.createElement(h.s,{enforceFocus:!1},r.a.createElement("div",{className:"bm-toolbar-popover-target"}),r.a.createElement(h.n,null,r.a.createElement(h.p,{text:"JSON(.json)",onClick:function(t){var n=e.diagram.getDiagramProps(),o=n.controller,r=n.model,i=o.run("serializeModel",n),a=JSON.stringify(i),c="data:text/plain,".concat(encodeURIComponent(a)),l=o.run("getTopicTitle",Object(Ee.a)(Object(Ee.a)({},n),{},{topicKey:r.rootTopicKey}));!function(e,t){var n=document.createElement("a");n.href=e,n.download=t,n.click()}(c,"".concat(l,".blinkmind"))}}),r.a.createElement(h.o,null))))}function _c(e){return r.a.createElement("div",{className:"bm-toolbar-item ".concat(rn(on)),onClick:function(t){var n=e.diagram.getDiagramProps();n.controller.run("operation",Object(Ee.a)(Object(Ee.a)({},n),{},{opType:ee,focusMode:"FOCUS_MODE_SEARCH"}))}})}var Mc=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onClickUndo,n=e.onClickRedo,o=e.canUndo,i=e.canRedo;return r.a.createElement("div",{className:"bm-toolbar"},r.a.createElement(vc,e),r.a.createElement(Lc,e),r.a.createElement(Dc,e),r.a.createElement(xc,e),r.a.createElement(_c,e),r.a.createElement("div",{className:tt()("bm-toolbar-item",rn("undo"),{"bm-toolbar-item-disabled":!o}),onClick:t}),r.a.createElement("div",{className:tt()("bm-toolbar-item",rn("redo"),{"bm-toolbar-item-disabled":!i}),onClick:n}))}}]),n}(r.a.PureComponent),Pc=(n(869),y()("app"),[Li(),function(){var e=new Map([["default",be],["random-color-square",Pi],["theme1",Ii],["theme2",Ni],["theme3",zi],["theme4",Fi]]);return{getAllThemes:function(t){return e},setTheme:function(e){var t=e.model,n=e.controller,o=e.themeKey,r=n.run("getAllThemes",e);if(!r.has(o))throw new Error("setTheme: the theme key is not correct!");var i=r.get(o),a=me.setTheme({model:t,theme:i});n.change(a)}}}(),function(){var e=new Set;function t(t){var n=t.model,o=t.topicKey,r=n.getExtDataItem("TOPIC_REFERENCE",za);return e=new Set(r.getReferenceKeys(o)),n=me.focusTopic({model:n,topicKey:o,focusMode:"FOCUS_MODE_SET_REFERENCE_TOPICS"})}return{customizeTopicContextMenu:function(e,t){var n=e.controller;return Object(o.createElement)(o.Fragment,null,t(),Object(o.createElement)(h.o,null),Object(o.createElement)(h.p,{key:"EXT_KEY_TOPIC_REFERENCE",icon:an("reference"),text:"Set Reference Topics",onClick:function(t){n.run("operation",Sa(Sa({},e),{opType:"OP_TYPE_START_SET_REFERENCE_TOPICS"})),n.run("disableOperation",Sa(Sa({},e),{whiteList:[U]}))}}))},getOpMap:function(e,n){var o=n();return o.set("OP_TYPE_START_SET_REFERENCE_TOPICS",t),o.set("OP_TYPE_SET_REFERENCE_TOPICS",Fa),o},beforeOpFunction:function(e,t){var n=t(),o=e.opType,r=e.topicKey;if(o===Q&&r!==n.editorRootTopicKey){var i=de(n,r);i.push(r);var a=n.getExtDataItem("TOPIC_REFERENCE",za),c=a.reference;i.forEach((function(e){var t=a.getReferencedKeys(e);(c=c.withMutations((function(n){t.forEach((function(t){n.updateIn([t,"keyList"],(function(t){return t.delete(t.indexOf(e))}))}))}))).has(e)&&(c=c.delete(e))})),a=a.set("reference",c),n=n.setIn(["extData","TOPIC_REFERENCE"],a)}return n},renderDiagramCustomize:function(e,t){var n=e.model,r=e.controller.getValue(On)+2,i=t();if("FOCUS_MODE_SET_REFERENCE_TOPICS"===n.focusMode){var a=Sa(Sa({},e),{zIndex:r,topicKey:n.focusKey,key:"AddReferenceTopicPanel"});i.push(Object(o.createElement)(Ma,Sa({},a)))}return i},renderTopicContentOthers:function(t,n){var r=t.model,i=t.topicKey,a=t.controller,c=n();if(c.push(a.run("renderTopicExtReference",Sa(Sa({},t),{key:"EXT_KEY_TOPIC_REFERENCE-icon"}))),"FOCUS_MODE_SET_REFERENCE_TOPICS"===r.focusMode&&r.focusKey!==i){var l=Sa(Sa({},t),{key:"checkbox",selectedTopicKeys:e}),u=Object(o.createElement)(ic,Sa({},l));c.push(u)}return c},renderTopicExtReference:function(e,t){return Object(o.createElement)(rc,Sa({},e))},clearSelectedReferenceKeys:function(){e.clear()},getSelectedReferenceKeys:function(){return Array.from(e)},deserializeExtDataItem:function(e,t){var n=e.extDataKey,o=e.extDataItem;if("TOPIC_REFERENCE"===n){var r=new za,i=function(e){var t=o.reference[e],n=new Ia({keyList:Object(x.List)(t.keyList),dataMap:Object(x.Map)(t.dataMap)});r=r.update("reference",(function(t){return t.set(e,n)}))};for(var a in o.reference)i(a);return r}return t()}}}(),function(){var e=function(e){};return{customizeHotKeys:function(e,t){var n=e.controller,o=e.model,r=t();return r.globalHotKeys.set("DEFAULT_SEARCH",{label:"search",combo:"ctrl + f",onKeyDown:function(){n.run("operation",Sa(Sa({},e),{opType:$,topicKey:o.focusKey,focusMode:"FOCUS_MODE_SEARCH"}))}}),r},renderDiagramCustomize:function(t,n){var r=n();if("FOCUS_MODE_SEARCH"===t.model.focusMode){var i=Sa(Sa({key:"search-panel"},t),{setSearchWorld:e});r.push(Object(o.createElement)(bc,Sa({},i)))}return r}}}(),Ea(),{serializeModel:function(e,t){var n=t();if(null!=n)return n;var o=e.model,r=e.controller;return{rootTopicKey:o.rootTopicKey,editorRootTopicKey:o.editorRootTopicKey,focusKey:o.focusKey,extData:r.run("serializeExtData",_i(_i({},e),{extData:o.extData})),topics:o.topics.valueSeq().toArray().map((function(t){return r.run("serializeTopic",_i(_i({},e),{topic:t}))})),config:r.run("serializeConfig",_i(_i({},e),{config:o.config})),formatVersion:o.formatVersion}},deserializeModel:function(e,t){var n=t();if(null!=n)return n;var o=e.obj,r=e.controller;null==o.formatVersion&&(o.formatVersion="0.0");var i=o.rootTopicKey,a=o.editorRootTopicKey,c=o.focusKey,l=o.topics,u=o.config,s=o.extData,p=o.formatVersion,d=new Oe;return null==(d=d.merge({rootTopicKey:i,editorRootTopicKey:null==a?i:a,focusKey:c,extData:r.run("deserializeExtData",_i(_i({},e),{extData:s,formatVersion:p})),config:r.run("deserializeConfig",_i(_i({},e),{config:u,formatVersion:p})),topics:r.run("deserializeTopics",_i(_i({},e),{topics:l,formatVersion:p})),formatVersion:o.formatVersion})).focusKey&&(d=d.set("focusKey",d.rootTopicKey)),null==d.focusMode&&(d=d.set("focusMode",N)),Mi("deserializeModel",d),d},serializeExtData:function(e,t){var n=t();if(null!=n)return n;var o=e.extData,r=e.controller,i={};return o.forEach((function(t,n){i[n]=r.run("serializeExtDataItem",{props:e,extDataKey:n,extDataItem:t})})),i},deserializeExtData:function(e,t){var n=t();if(null!=n)return n;var o=e.extData,r=e.controller,i=Object(x.Map)();for(var a in o)i=i.set(a,r.run("deserializeExtDataItem",_i(_i({},e),{extDataKey:a,extDataItem:o[a]})));return i},serializeExtDataItem:function(e,t){var n=t();if(null!=n)return n;var o=e.extDataItem;return Object(x.isImmutable)(o)?o.toJS():o},deserializeExtDataItem:function(e,t){var n=t();return null!=n?n:e.extDataItem},serializeConfig:function(e,t){var n=t();return null!=n?n:e.config.toJS()},deserializeConfig:function(e,t){var n=t();if(null!=n)return n;var o=e.config;return new xe(o)},serializeTopic:function(e,t){var n=t();if(null!=n)return n;var o=e.topic,r=e.controller;return{key:o.key,parentKey:o.parentKey,subKeys:o.subKeys.toArray(),collapse:o.collapse,style:o.style,blocks:o.blocks.map((function(t){return r.run("serializeBlock",_i(_i({},e),{block:t}))}))}},deserializeTopic:function(e,t){var n=t();if(null!=n)return n;var o=e.topic,r=e.controller,i=o.key,a=o.parentKey,c=o.subKeys,l=o.blocks,u=o.style,s=o.collapse,p=new pe;return p=p.merge({key:i,parentKey:a,subKeys:Object(x.List)(c),style:u,collapse:s,blocks:r.run("deserializeBlocks",_i(_i({},e),{blocks:l}))})},deserializeTopics:function(e,t){var n=t();if(null!=n)return n;var o=e.topics,r=e.controller,i=Object(x.Map)();return i=i.withMutations((function(t){o.forEach((function(n){return t.set(n.key,r.run("deserializeTopic",_i(_i({},e),{topic:n})))}))}))},serializeBlock:function(e,t){var n=t();if(null!=n)return n;var o=e.block,r=e.controller;return{type:o.type,data:r.run("serializeBlockData",_i({},e))}},serializeBlockData:function(e,t){var n=t();return null!=n?n:e.block.data},deserializeBlock:function(e,t){var n=t();if(null!=n)return n;var o=e.block,r=e.controller,i=o.type;return new se({type:i,data:r.run("deserializeBlockData",_i(_i({},e),{block:o}))})},deserializeBlockData:function(e,t){var n=t();return null!=n?n:e.block.data},deserializeBlocks:function(e,t){var n=t();if(null!=n)return n;var o=e.blocks,r=e.controller,i=Object(x.List)();return i=i.withMutations((function(t){o.forEach((function(n){return t.push(r.run("deserializeBlock",_i(_i({},e),{block:n})))}))}))}}]),Ic=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).diagramRef=function(e){o.diagram=e,o.setState({})},o.onClickUndo=function(e){var t=o.diagram.getDiagramProps();t.controller.run("undo",t)},o.onClickRedo=function(e){var t=o.diagram.getDiagramProps();t.controller.run("redo",t)},o.onChange=function(e,t){o.setState({model:e},t)},o.initModel(),o}return Object(l.a)(n,[{key:"initModel",value:function(){var e=Oe.create({rootTopicKey:"a607e564-8513-4581-80a5-11153d20cd9b",editorRootTopicKey:"a607e564-8513-4581-80a5-11153d20cd9b",focusKey:"5a04c9b0-6d2b-4c6b-830f-a4a370ea88b9",extData:{TOPIC_REFERENCE:{reference:{}}},topics:[{key:"3ca143d4-b91e-4d61-9ebb-6cf0f967bf6f",parentKey:"5a04c9b0-6d2b-4c6b-830f-a4a370ea88b9",subKeys:[],collapse:!1,style:null,blocks:[{type:"CONTENT",data:"Assumptions"}]},{key:"c8b409a4-cbf5-4671-96f8-eb4fc3f773d9",parentKey:"81626f6c-5f13-4d7b-8077-cda871732628",subKeys:["515374f3-363a-460f-b981-5d21a419b20a","f19652fe-f68f-4284-bf47-d675e7fa8777"],collapse:!1,style:null,blocks:[{type:"CONTENT",data:"1 - Sample t-test"},{type:"DESC",data:"##  1 Sample t\\-test:\n\n The 1 Sample t\\-test is perfomed when we want to verify any claim made by the company / organisations.\n  \n Whenever only a single numerical feature is involved in the hypothesis we will go with 1 Sample t\\-test.\n\n```none\nExample:\n\n1. A company claims that their medicine cures headached is less than 12 minutes.\n2. A food delivery company claims that all their delivery is done withing 30 minutes\n   of ordering\n3. A battery manufacturer company claims that the average life time for their \n   batteries are 40 hours.\n\n```\n\n In all the above cases we will be using the **1 Sample t\\-test to statistically validated** if the claims made by the\n company / organisations is valid or not"}]},{key:"064b8bea-d69a-4785-998b-1a390e3ba873",parentKey:"a607e564-8513-4581-80a5-11153d20cd9b",subKeys:[],collapse:!1,style:null,blocks:[{type:"CONTENT",data:"4 Steps of Hypothesis Testing "},{type:"DESC",data:"# 4 Steps of Hypothesis Testing:\n\n All hypotheses are tested using a four \\- step process : \n1. The first step is to define both the hypotheses so that only one hypotheses can be right\n1. The next step is to formulate an analysis plan, which outlines how the data will be evaluated\n1. The third step is to carry out the plan and physically analyze the sample data\n1. The fourth and final step is to analyze the results and either reject the null hypothesis, or state that the null hypothesis is plausible, given the data\n\n"}]},{key:"bc7cf847-d335-49bd-9c86-9b16a148ddb4",parentKey:"a3a6d196-3f5f-4753-8585-3d4045f36ff7",subKeys:["0d803305-a283-47bf-8528-3b8bd13fa210","edd1862c-53fb-4fe8-806c-c62da4d15a55","bad7d35b-b741-482d-9597-16032dabcbcd","50f23764-5ff5-445e-b448-11f8277696c7"],collapse:!1,style:null,blocks:[{type:"CONTENT",data:"Test of Proportions"},{type:"DESC",data:"Test of Proportions is used whenever there is a **categorical feature** and **no numerical feature** involved in\n the hypothesis creation \n\n The Test of Proportions is used when we want to verify if the mean of the groups in a feature is same or different\n\n There are 4 tests associated with Test of Proportions:\n1. One Sample proportion test\n1. Two Sample proportion test\n1. Chi\\-Square test\n1. Chi\\-Square Contigency test\n\n"}]},{key:"515374f3-363a-460f-b981-5d21a419b20a",parentKey:"c8b409a4-cbf5-4671-96f8-eb4fc3f773d9",subKeys:[],collapse:!1,style:null,blocks:[{type:"CONTENT",data:"1 tail test"}]},{key:"eb2cbc73-61df-498d-b5a0-fc22981eafa7",parentKey:"a607e564-8513-4581-80a5-11153d20cd9b",subKeys:[],collapse:!1,style:null,blocks:[{type:"CONTENT",data:"Definition"},{type:"DESC",data:'## Definition:\n\n**Hypothesis testing** is an act in statistics whereby an analyst tests an assumption regarding a population parameter. The methodology employed by the analyst depends on the nature of the data used and the reason for the analysis.\n\nHypothesis testing is used to assess the plausibility of a hypothesis by using sample data. Such data may come from a larger population, or from a data\\-generating process. The word "population" will be used for both of these cases in the following descriptions.'}]},{key:"50f23764-5ff5-445e-b448-11f8277696c7",parentKey:"bc7cf847-d335-49bd-9c86-9b16a148ddb4",subKeys:[],collapse:!1,style:null,blocks:[{type:"CONTENT",data:"Chi-Square Contigency"}]},{key:"a3a6d196-3f5f-4753-8585-3d4045f36ff7",parentKey:"a607e564-8513-4581-80a5-11153d20cd9b",subKeys:["81626f6c-5f13-4d7b-8077-cda871732628","bc7cf847-d335-49bd-9c86-9b16a148ddb4"],collapse:!1,style:null,blocks:[{type:"CONTENT",data:"Testing types"}]},{key:"5a04c9b0-6d2b-4c6b-830f-a4a370ea88b9",parentKey:"81626f6c-5f13-4d7b-8077-cda871732628",subKeys:["1459bf1d-2a6e-44ff-a486-950f36a902fd","14213589-8fe9-4e25-b7ff-2305e9a93318","3ca143d4-b91e-4d61-9ebb-6cf0f967bf6f"],collapse:!1,style:null,blocks:[{type:"CONTENT",data:"2 - Sample t-test"},{type:"DESC",data:"##  2 Sample t\\-test\n\n  **2 Sample t\\-test** is performed when there is one numerical feature and one categorical feature is involved in the \n  hypothesis provided the categorical feature has only two levels/groups.\n\n> Examples:\n> \n>    1. Verify that there is no discrimination in wages \\(numerical feature\\) provided by a company based on gender \\(categorical\\)\n>    1. Validate if the gender \\(categorical\\) has any effect in the weight \\(numerical\\) loss program\n\n  In the above examples, the categorical feature gender has only two levels namely Male and Female. When we want to \n  see if there is a pattern in the numerical feature based on the categorical feature we will use 2 Sample t\\-test\n\n> 2 Sample t\\-test, performs the hypothesis by checking if the numerical feature mean of the two different levels \n> are same or different.\n"}]},{key:"edd1862c-53fb-4fe8-806c-c62da4d15a55",parentKey:"bc7cf847-d335-49bd-9c86-9b16a148ddb4",subKeys:[],collapse:!1,style:null,blocks:[{type:"CONTENT",data:"2 Sample Proportion test"}]},{key:"0d803305-a283-47bf-8528-3b8bd13fa210",parentKey:"bc7cf847-d335-49bd-9c86-9b16a148ddb4",subKeys:[],collapse:!1,style:null,blocks:[{type:"CONTENT",data:"1 Sample Proportion test"}]},{key:"bad7d35b-b741-482d-9597-16032dabcbcd",parentKey:"bc7cf847-d335-49bd-9c86-9b16a148ddb4",subKeys:[],collapse:!1,style:null,blocks:[{type:"CONTENT",data:"Chi-Square test"}]},{key:"f19652fe-f68f-4284-bf47-d675e7fa8777",parentKey:"c8b409a4-cbf5-4671-96f8-eb4fc3f773d9",subKeys:[],collapse:!1,style:null,blocks:[{type:"CONTENT",data:"2 tail test"}]},{key:"a607e564-8513-4581-80a5-11153d20cd9b",parentKey:null,subKeys:["a3a6d196-3f5f-4753-8585-3d4045f36ff7","eb2cbc73-61df-498d-b5a0-fc22981eafa7","333a9d61-c218-471d-8e88-250ea77c9982","064b8bea-d69a-4785-998b-1a390e3ba873"],collapse:!1,style:null,blocks:[{type:"CONTENT",data:"Hypothesis Testing"}]},{key:"61d82248-611b-4f06-824c-6589d605dd9e",parentKey:"81626f6c-5f13-4d7b-8077-cda871732628",subKeys:[],collapse:!1,style:null,blocks:[{type:"CONTENT",data:"Analysis of Variance (ANOVA)"}]},{key:"81626f6c-5f13-4d7b-8077-cda871732628",parentKey:"a3a6d196-3f5f-4753-8585-3d4045f36ff7",subKeys:["c8b409a4-cbf5-4671-96f8-eb4fc3f773d9","5a04c9b0-6d2b-4c6b-830f-a4a370ea88b9","61d82248-611b-4f06-824c-6589d605dd9e"],collapse:!1,style:null,blocks:[{type:"CONTENT",data:"Test of Mean"},{type:"DESC",data:"Test of Means methods are used whenever a numerical category is involved to make the null hypothesis.\n\n The methods available in the Test of Means performs the testing based on 2 scenarios:\n1. We want to see if the single feature numerical mean differs from the population mean\n1. We want to see if the mean value of two or more groups in a feature are same or different\n\n\n There are 3 methods associated with Test of Means:\n1. One sample t\\-test\n1. Two sample t\\-test\n1. Analysis of Variance \\(ANOVA\\)\n\n"}]},{key:"14213589-8fe9-4e25-b7ff-2305e9a93318",parentKey:"5a04c9b0-6d2b-4c6b-830f-a4a370ea88b9",subKeys:[],collapse:!1,style:null,blocks:[{type:"CONTENT",data:"Dependent t-test"}]},{key:"333a9d61-c218-471d-8e88-250ea77c9982",parentKey:"a607e564-8513-4581-80a5-11153d20cd9b",subKeys:[],collapse:!1,style:null,blocks:[{type:"CONTENT",data:"Type of Hypothesis"},{type:"DESC",data:"# Type of Hypothesis:\n\n\n## Alternative Hypothesis:\n\n An alternative hypothesis usually refers to the claim made by the organization. \n The analysts generally creates their null hypothesis based on the alternative hypothesis and try to see if the   claim is true or false.\n\n## Null Hypothesis:\n\n A null hypothesis is a statement formulated by the analysts in order to verify if there exists a relationship between the variables in the given data.\n\n The null hypothesis statement is usually the opposite of the **Alternative hypothesis. **The main purpose of  the research is to either reject or accept \\(fail to reject\\) the Null hypothesis.\n\n```none\n- Reject the Null hypothesis: This refers to the scenario where we \nwill accept the Alternative hypothesis ie, there exist a \nrelationship between the variables in the data or the claim made \nis true\n\n- Fail to reject the Null hypothesis: This refers to the scenario \nwhere we state that there does not exist a relationship between \nthe variables in the data or the claim made is false\n\n```\n\n> Example:\n> \n> Ha:= Drinking tea or coffee before classes increases student's performances\n> H0:= There is no significant difference in student's performances if they drink tea of coffee before classes\n"}]},{key:"1459bf1d-2a6e-44ff-a486-950f36a902fd",parentKey:"5a04c9b0-6d2b-4c6b-830f-a4a370ea88b9",subKeys:[],collapse:!1,style:null,blocks:[{type:"CONTENT",data:"Independent t-test"}]}],config:{readOnly:!1,allowUndo:!0,layoutDir:2,theme:{name:"default",randomColor:!0,background:"rgb(57,60,65)",highlightColor:"#50C9CE",marginH:60,marginV:20,contentStyle:{lineHeight:"1.5"},linkStyle:{lineRadius:5,lineType:"curve",lineWidth:"3px"},rootTopic:{contentStyle:{fontSize:"34px",borderRadius:"35px",padding:"16px 18px 16px 18px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"rgb(113, 203, 45)"}},primaryTopic:{contentStyle:{borderWidth:"1px",borderStyle:"solid",borderRadius:"20px",fontSize:"17px",padding:"10px 15px 10px 15px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"rgb(113, 203, 45)"}},normalTopic:{contentStyle:{border:"1px solid #e8eaec",borderRadius:"20px",fontSize:"17px",padding:"4px 10px"},subLinkStyle:{lineType:"curve",lineWidth:"3px",lineColor:"white"}}}},formatVersion:"0.0"});this.state={model:e}}},{key:"renderDiagram",value:function(){return r.a.createElement(vi,{ref:this.diagramRef,model:this.state.model,onChange:this.onChange,plugins:Pc})}},{key:"renderToolbar",value:function(){var e=this.diagram.getDiagramProps(),t=e.controller,n=t.run("canUndo",e),o=t.run("canRedo",e),i={diagram:this.diagram,onClickUndo:this.onClickUndo,onClickRedo:this.onClickRedo,canUndo:n,canRedo:o};return r.a.createElement(Mc,i)}},{key:"render",value:function(){return r.a.createElement("div",{className:"mindmap"},this.diagram&&this.renderToolbar(),this.renderDiagram())}}]),n}(r.a.Component);n(870);var Nc=function(){return r.a.createElement(Ic,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));localStorage.debug=["app","plugin:layout"].join(","),a.a.render(r.a.createElement(Nc,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}}]);
//# sourceMappingURL=chunk-blinkmind.2361a478.chunk.js.map